"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[991],{1326:(e,t,a)=>{function r(e){return new Intl.NumberFormat("uk-UA",{style:"currency",currency:"UAH",minimumFractionDigits:0}).format(e)}a.d(t,{A:()=>r})},2991:(e,t,a)=>{a.r(t),a.d(t,{default:()=>d});var r=a(9379),i=a(5043),n=a(7338),o=a(9722),s=a(6596),l=a(579);const c=function(e){let{title:t,products:a,viewAllTo:r,isMobile:o,accentColor:c="var(--turquoise)",isLoading:d}=e;const p=i.useRef(null),[g,x]=i.useState(!1),[h,u]=i.useState(!0),m=o?"172px":"240px",b=i.useCallback(()=>{const e=p.current;if(!e)return;const t=e.scrollWidth-e.clientWidth;x(e.scrollLeft>10),u(e.scrollLeft<t-10)},[]),v=e=>{const t=p.current;if(!t)return;const a=.8*t.clientWidth;t.scrollBy({left:a*e,behavior:"smooth"})};i.useEffect(()=>{const e=p.current;if(!e)return;const t=()=>b();e.addEventListener("scroll",t,{passive:!0}),window.addEventListener("resize",b);const a=setTimeout(b,150);return()=>{clearTimeout(a),e.removeEventListener("scroll",t),window.removeEventListener("resize",b)}},[a,o,b]);const y=(null===a||void 0===a?void 0:a.length)||0,f=!o&&y>4;return(0,l.jsxs)("div",{className:"carousel-row",children:[(0,l.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:14},children:[(0,l.jsx)("h2",{className:"h2 mono",style:{margin:0,color:c,textShadow:"none"},children:t}),(0,l.jsx)(n.N_,{to:r,className:"p",style:{color:"var(--turquoise)"},children:"\u041f\u0435\u0440\u0435\u0433\u043b\u044f\u043d\u0443\u0442\u0438 \u0432\u0441\u0456 \u2192"})]}),(0,l.jsxs)("div",{style:{position:"relative"},children:[f&&(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("div",{"aria-hidden":!0,style:{pointerEvents:"none",position:"absolute",inset:"0 auto 0 0",width:40,background:"linear-gradient(90deg, rgba(10,10,10,0.9), transparent)",zIndex:1,borderRadius:"8px 0 0 8px"}}),(0,l.jsx)("div",{"aria-hidden":!0,style:{pointerEvents:"none",position:"absolute",inset:"0 0 0 auto",width:40,background:"linear-gradient(270deg, rgba(10,10,10,0.9), transparent)",zIndex:1,borderRadius:"0 8px 8px 0"}})]}),(0,l.jsx)("div",{ref:p,className:"no-scrollbar carousel-scroller",style:{display:"flex",alignItems:"stretch",gap:12,overflowX:"auto",scrollSnapType:"x mandatory",scrollPadding:"4px",padding:"4px 2px 10px"},children:d?(0,l.jsx)("div",{className:"p",style:{opacity:.8,padding:"20px"},children:"\u0417\u0430\u0432\u0430\u043d\u0442\u0430\u0436\u0435\u043d\u043d\u044f \u0442\u043e\u0432\u0430\u0440\u0456\u0432..."}):y>0?(0,l.jsxs)(l.Fragment,{children:[a.map(e=>(0,l.jsx)("div",{className:"carousel-card-wrap ".concat(o?"is-mobile":"is-desktop"),"data-variant":"carousel",style:{flex:"0 0 ".concat(m),minWidth:0,scrollSnapAlign:"start",scrollSnapStop:"always"},children:(0,l.jsx)(s.A,{product:e,variant:"carousel",compact:o,isMobile:o})},e._id||e.id)),(0,l.jsx)("div",{className:"carousel-card-wrap more-tile",style:{flex:"0 0 ".concat(m),minWidth:0,scrollSnapAlign:"start"},children:(0,l.jsxs)(n.N_,{to:r,className:"surface",style:{display:"flex",flexDirection:"column",height:"100%",textDecoration:"none",borderStyle:"dashed",borderColor:"rgba(255,255,255,.2)",background:"linear-gradient(180deg, rgba(255,255,255,.03), rgba(255,255,255,.01))",transition:"all .2s ease",borderRadius:14,alignItems:"center",justifyContent:"center",padding:12},onMouseEnter:e=>{e.currentTarget.style.borderColor="var(--turquoise)",e.currentTarget.style.transform="translateY(-4px)"},onMouseLeave:e=>{e.currentTarget.style.borderColor="rgba(255,255,255,.2)",e.currentTarget.style.transform="none"},children:[(0,l.jsx)("span",{style:{fontSize:40,color:"var(--turquoise)",lineHeight:1},children:"\u2192"}),(0,l.jsx)("span",{style:{fontWeight:800,color:"var(--turquoise)",fontSize:13,textAlign:"center",paddingTop:8},children:"\u0411\u0456\u043b\u044c\u0448\u0435 \u0442\u043e\u0432\u0430\u0440\u0456\u0432"})]})})]}):(0,l.jsx)("div",{className:"p",style:{opacity:.8,padding:"20px"},children:"\u041f\u043e\u043a\u0438 \u0449\u043e \u043d\u0435\u043c\u0430\u0454 \u0442\u043e\u0432\u0430\u0440\u0456\u0432 \u0443 \u0446\u0456\u0439 \u043a\u0430\u0442\u0435\u0433\u043e\u0440\u0456\u0457."})}),f&&(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("button",{"aria-label":"\u041d\u0430\u0437\u0430\u0434",disabled:!g,onClick:()=>v(-1),className:"btn carousel-arrow",style:{position:"absolute",top:"50%",left:-16,transform:"translateY(-50%)",opacity:g?1:.3,zIndex:2,width:36,height:36,minWidth:"auto",padding:0,cursor:g?"pointer":"default"},children:"\u2039"}),(0,l.jsx)("button",{"aria-label":"\u0412\u043f\u0435\u0440\u0435\u0434",disabled:!h,onClick:()=>v(1),className:"btn carousel-arrow",style:{position:"absolute",top:"50%",right:-16,transform:"translateY(-50%)",opacity:h?1:.3,zIndex:2,width:36,height:36,minWidth:"auto",padding:0,cursor:h?"pointer":"default"},children:"\u203a"})]})]})]})};function d(){const[e,t]=(0,i.useState)([]),[a,r]=(0,i.useState)([]),[s,d]=(0,i.useState)([]),[g,x]=(0,i.useState)(!0),[h,u]=(0,i.useState)(!1);(0,i.useEffect)(()=>{const e=window.matchMedia("(max-width: 768px)"),t=e=>u(e.matches);return u(e.matches),e.addEventListener("change",t),()=>e.removeEventListener("change",t)},[]),(0,i.useEffect)(()=>{(async()=>{x(!0);try{const[e,a,i]=await Promise.all([o.A.get("/api/products?types=consoles&limit=10"),o.A.get("/api/products?types=games&limit=10"),o.A.get("/api/products?types=accs&limit=10")]);t(e.data.products||[]),r(a.data.products||[]),d(i.data.products||[])}catch(e){console.error("\u041f\u043e\u043c\u0438\u043b\u043a\u0430 \u0437\u0430\u0432\u0430\u043d\u0442\u0430\u0436\u0435\u043d\u043d\u044f \u0442\u043e\u0432\u0430\u0440\u0456\u0432 \u0434\u043b\u044f \u0433\u043e\u043b\u043e\u0432\u043d\u043e\u0457 \u0441\u0442\u043e\u0440\u0456\u043d\u043a\u0438:",e)}finally{x(!1)}})()},[]);return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("section",{children:(0,l.jsx)("div",{className:"container",children:(0,l.jsx)("div",{className:"surface shimmer",style:{padding:h?"18px":"24px",borderRadius:"var(--radius)",boxShadow:"var(--shadow-neon)",position:"relative",overflow:"hidden",'[data-theme="light"] &':{boxShadow:"var(--shadow-card)"}},children:(0,l.jsxs)("div",{className:"grid",style:{display:"grid",gridTemplateColumns:h?"1fr":"minmax(330px, 400px) 1fr",alignItems:"start",gap:h?14:18},children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("h1",{className:"h1 retro",style:{color:"var(--accent-yellow)",textShadow:"0 0 2px var(--accent-yellow)",marginTop:0,marginBottom:12},children:"BiTZone"}),(0,l.jsx)("div",{style:{display:"grid",gridTemplateColumns:"repeat(2, minmax(0, 1fr))",gap:h?10:12},children:[{label:"PlayStation",to:"/products?platforms=sony",accent:"var(--accent-yellow)",img:"/assets/categories/playstation.png",alt:"PlayStation"},{label:"Xbox",to:"/products?platforms=xbox",accent:"var(--accent-green)",img:"/assets/categories/xbox.png",alt:"Xbox"},{label:"Nintendo",to:"/products?platforms=nintendo",accent:"var(--accent-pink)",img:"/assets/categories/nintendo.png",alt:"Nintendo"},{label:"Steam Deck",to:"/products?platforms=steamdeck",accent:"var(--accent-turquoise)",img:"/assets/categories/steamdeck.png",alt:"Steam Deck"}].map(e=>(0,l.jsx)(p,{item:e},e.label))}),!h&&(0,l.jsx)("div",{style:{marginTop:20},children:(0,l.jsxs)(n.N_,{to:"/products",className:"btn btn-green",style:{display:"inline-flex",gap:10,padding:"12px 18px",borderRadius:14,textDecoration:"none",fontWeight:900,letterSpacing:.3,fontSize:15},children:[(0,l.jsx)("span",{children:"\u041f\u0435\u0440\u0435\u0439\u0442\u0438 \u0432 \u043a\u0430\u0442\u0430\u043b\u043e\u0433"}),(0,l.jsx)("span",{"aria-hidden":!0,children:"\u2192"})]})})]}),(0,l.jsxs)("div",{className:"center",style:{display:"flex",flexDirection:"column",alignItems:"center"},children:[(0,l.jsx)("img",{src:"/assets/bitzone-logo1.png",alt:"BitZone",style:{width:h?"88%":"82%",imageRendering:"pixelated",filter:"drop-shadow(0 0 16px var(--accent-turquoise))",animation:"pulse 2s infinite",'[data-theme="light"] &':{filter:"drop-shadow(0 0 16px var(--accent-turquoise))"}}}),(0,l.jsx)("div",{style:{marginTop:h?8:10,textAlign:"center"},children:(0,l.jsxs)("div",{style:{display:"inline-flex",alignItems:"center",gap:h?8:10,padding:h?"6px 10px":"8px 14px",borderRadius:9999,background:"var(--surface-input)",border:"1px solid var(--border-primary)",backdropFilter:"blur(4px)",boxShadow:"var(--shadow-card), inset 0 1px 0 rgba(255,255,255,.06)",'[data-theme="light"] &':{boxShadow:"var(--shadow-card), inset 0 1px 0 rgba(0,0,0,.04)",backdropFilter:"none"}},children:[(0,l.jsx)("span",{className:"mono",style:{fontWeight:900,letterSpacing:.4,fontSize:h?14:16,color:"var(--accent-yellow)"},children:"\u041f\u0440\u0438\u0434\u0431\u0430\u0439"}),(0,l.jsx)("span",{"aria-hidden":!0,style:{opacity:.7},children:"\u2022"}),(0,l.jsx)("span",{className:"mono",style:{fontWeight:900,letterSpacing:.4,fontSize:h?14:16,color:"var(--accent-turquoise)"},children:"\u0433\u0440\u0430\u0439"}),(0,l.jsx)("span",{"aria-hidden":!0,style:{opacity:.7},children:"\u2022"}),(0,l.jsx)("span",{className:"mono",style:{fontWeight:900,letterSpacing:.4,fontSize:h?14:16,color:"var(--accent-pink)"},children:"\u043f\u0440\u043e\u0434\u0430\u0432\u0430\u0439!"})]})}),h&&(0,l.jsx)("div",{style:{marginTop:14},children:(0,l.jsxs)(n.N_,{to:"/products",className:"btn btn-green",style:{display:"inline-flex",alignItems:"center",gap:10,padding:"11px 16px",borderRadius:14,textDecoration:"none",fontWeight:900,letterSpacing:.3,fontSize:14},children:[(0,l.jsx)("span",{children:"\u041f\u0435\u0440\u0435\u0439\u0442\u0438 \u0432 \u043a\u0430\u0442\u0430\u043b\u043e\u0433"}),(0,l.jsx)("span",{"aria-hidden":!0,children:"\u2192"})]})})]})]})})})}),(0,l.jsx)("section",{style:{marginTop:40},children:(0,l.jsx)("div",{className:"container",children:(0,l.jsx)(c,{title:"\u041a\u043e\u043d\u0441\u043e\u043b\u0456",products:e,viewAllTo:"/products?types=consoles",isMobile:h,accentColor:"var(--accent-yellow)",isLoading:g})})}),(0,l.jsx)("section",{style:{marginTop:40},children:(0,l.jsx)("div",{className:"container",children:(0,l.jsx)(c,{title:"\u0406\u0433\u0440\u0438",products:a,viewAllTo:"/products?types=games",isMobile:h,accentColor:"var(--accent-turquoise)",isLoading:g})})}),(0,l.jsx)("section",{style:{marginTop:40},children:(0,l.jsx)("div",{className:"container",children:(0,l.jsx)(c,{title:"\u0410\u043a\u0441\u0435\u0441\u0443\u0430\u0440\u0438",products:s,viewAllTo:"/products?types=accs",isMobile:h,accentColor:"var(--accent-green)",isLoading:g})})}),(0,l.jsx)("section",{style:{marginTop:40,marginBottom:40},children:(0,l.jsxs)("div",{className:"container",children:[(0,l.jsx)("h2",{className:"h2 mono",style:{color:"var(--accent-turquoise)",textAlign:"center",marginBottom:20},children:"\u0412\u0456\u0434\u0433\u0443\u043a\u0438 \u041d\u0430\u0448\u0438\u0445 \u0413\u0435\u0439\u043c\u0435\u0440\u0456\u0432"}),(0,l.jsx)("div",{className:"grid",style:{display:"grid",gridTemplateColumns:h?"1fr":"repeat(3,1fr)",gap:16},children:[{name:"\u041e\u043b\u0435\u043a\u0441\u0430\u043d\u0434\u0440",text:"\u041a\u0443\u043f\u0438\u0432 NES \u2013 \u043d\u043e\u0441\u0442\u0430\u043b\u044c\u0433\u0456\u044f \u043d\u0430 \u043f\u043e\u0432\u043d\u0443! \u0414\u043e\u0441\u0442\u0430\u0432\u043a\u0430 \u0448\u0432\u0438\u0434\u043a\u0430.",rating:5},{name:"\u041c\u0430\u0440\u0456\u044f",text:"PS5 \u0437 \u0430\u043a\u0441\u0435\u0441\u0443\u0430\u0440\u0430\u043c\u0438 \u2013 \u0432\u0441\u0435 \u0441\u0443\u043f\u0435\u0440, \u0440\u0435\u043a\u043e\u043c\u0435\u043d\u0434\u0443\u044e!",rating:5},{name:"\u0406\u0432\u0430\u043d",text:"\u0420\u0435\u0442\u0440\u043e \u043a\u0430\u0440\u0442\u0440\u0438\u0434\u0436\u0456 \u0432 \u0456\u0434\u0435\u0430\u043b\u044c\u043d\u043e\u043c\u0443 \u0441\u0442\u0430\u043d\u0456.",rating:4}].map((e,t)=>(0,l.jsxs)("div",{className:"surface shimmer",style:{padding:20,borderRadius:"var(--radius)"},children:[(0,l.jsx)("p",{className:"p",children:e.text}),(0,l.jsx)("div",{style:{marginTop:12,color:"var(--accent-yellow)"},children:"\u2605".repeat(e.rating)})," ",(0,l.jsxs)("div",{className:"mono",style:{fontSize:12,opacity:.8,marginTop:8,color:"var(--text-secondary)"},children:["- ",e.name]})," "]},t))})]})})]})}function p(e){let{item:t}=e;const a=(0,i.useRef)(null),[o,s]=(0,i.useState)(!1),[c,d]=(0,i.useState)({x:.5,y:.5}),p=-6*(c.y-.5),g=6*(c.x-.5),[x,h]=(0,i.useState)({});return(0,i.useEffect)(()=>{const e="radial-gradient(".concat(o?"140px 140px":"0 0"," at ").concat(Math.round(100*c.x),"% ").concat(Math.round(100*c.y),"%, var(--highlight-color), transparent 60%)"),a="linear-gradient(var(--card-bg), var(--card-bg)) padding-box, linear-gradient(135deg, var(--highlight-border), ".concat(t.accent,") border-box");h({"--highlight-color":o?"rgba(255,255,255,.16)":"transparent","--highlight-border":"rgba(255,255,255,.26)","--card-bg":"var(--surface-primary)","--inset-shadow":"inset 0 1px 0 rgba(255,255,255,.08), inset 0 -10px 22px rgba(0,0,0,.45)","--overlay-bg":"linear-gradient(55deg, rgba(255,255,255,.10), rgba(255,255,255,0) 38%)","--overlay-opacity":o?.35:.18,"--box-shadow":o?"0 24px 44px rgba(0,0,0,.45), 0 0 0 1px rgba(255,255,255,.05), 0 0 24px ".concat(t.accent,"26"):"0 14px 28px rgba(0,0,0,.28), 0 0 0 1px rgba(255,255,255,.05)","--transform":o?"rotateX(".concat(p,"deg) rotateY(").concat(g,"deg) translateZ(0) scale(1.01)"):"scale(1)",backgroundImage:"".concat(e,", ").concat(a)})},[o,c,t.accent,p,g]),(0,l.jsxs)(n.N_,{to:t.to,className:"cat-card",style:{textDecoration:"none",display:"flex",flexDirection:"column",alignItems:"center",gap:8,willChange:"transform, box-shadow"},children:[(0,l.jsx)("div",{style:{perspective:800,width:"100%"},children:(0,l.jsxs)("div",{ref:a,onMouseEnter:()=>s(!0),onMouseLeave:()=>s(!1),onMouseMove:e=>{var t;const r=null===(t=a.current)||void 0===t?void 0:t.getBoundingClientRect();if(!r)return;const i=(e.clientX-r.left)/r.width,n=(e.clientY-r.top)/r.height;d({x:Math.max(0,Math.min(1,i)),y:Math.max(0,Math.min(1,n))})},style:(0,r.A)((0,r.A)({},x),{},{width:"100%",aspectRatio:"1 / 1",borderRadius:20,overflow:"hidden",border:"1.5px solid transparent",backgroundOrigin:"border-box",boxShadow:"var(--box-shadow)",transform:"var(--transform)",transition:"transform .16s ease, box-shadow .2s ease, background-image .2s ease",position:"relative",display:"grid",placeItems:"center",'[data-theme="light"] &':{"--highlight-color":o?"rgba(0,0,0,.06)":"transparent","--highlight-border":"rgba(0,0,0,.1)","--card-bg":"var(--surface-primary)","--inset-shadow":"inset 0 1px 0 rgba(0,0,0,.04), inset 0 -10px 22px rgba(0,0,0,.05)","--overlay-bg":"linear-gradient(55deg, rgba(0,0,0,.05), rgba(0,0,0,0) 38%)","--overlay-opacity":o?.6:.4,"--box-shadow":o?"0 24px 44px rgba(0,0,0,.15), 0 0 0 1px rgba(0,0,0,.05), 0 0 24px ".concat(t.accent,"30"):"0 14px 28px rgba(0,0,0,.1), 0 0 0 1px rgba(0,0,0,.05)"}}),children:[(0,l.jsx)("div",{style:{position:"absolute",inset:0,pointerEvents:"none",boxShadow:"var(--inset-shadow)"}}),(0,l.jsx)("div",{style:{position:"absolute",inset:0,pointerEvents:"none",background:"var(--overlay-bg)",opacity:"var(--overlay-opacity)",mixBlendMode:"soft-light",transition:"opacity .2s ease"}}),(0,l.jsx)("img",{src:t.img,alt:t.alt,style:{width:"66%",height:"66%",objectFit:"contain",imageRendering:"auto",filter:"drop-shadow(0 4px 10px rgba(0,0,0,.35))",transform:o?"translateZ(0.01px)":void 0,'[data-theme="light"] &':{filter:"drop-shadow(0 4px 10px rgba(0,0,0,.15))"}}})]})}),(0,l.jsx)("span",{className:"mono",style:{fontWeight:950,color:"var(--text-primary)",textShadow:"0 1px 2px rgba(0,0,0,.25)",letterSpacing:.35,fontSize:"clamp(13px, 1.6vw, 15px)",lineHeight:1.1},children:t.label})]})}},6596:(e,t,a)=>{a.d(t,{A:()=>m});var r=a(5043),i=a(7338),n=a(3003),o=a(1721),s=a(9006),l=a(1326),c=a(9570),d=a(6446),p=a(9722),g=a(579);const x=e=>(null!==e&&void 0!==e?e:"").toString().trim().toLowerCase(),h=e=>{let{product:t,src:a,alt:i,lqip:n}=e;const[o,s]=(0,r.useState)(!1),[l,c]=(0,r.useState)({w:1,h:1}),p=(e=>{const t=x(null===e||void 0===e?void 0:e.name),a=x(null===e||void 0===e?void 0:e.category);return a.includes("\u0433\u0440\u0430")||a.includes("game")||a.includes("\u0438\u0433\u0440\u0430")||t.includes("\u0433\u0440\u0430")||t.includes("game")||t.includes("\u0438\u0433\u0440\u0430")})(t),h=l.h>1.06*l.w,u=l.w>1.06*l.h;let m="88%",b="88%";return p?(m="72%",b="94%"):h?(m="76%",b="92%"):u&&(m="94%",b="78%"),(0,g.jsxs)("div",{style:{position:"relative",aspectRatio:"1 / 1",borderRadius:18,overflow:"hidden",border:"1px solid var(--border-primary)",background:"linear-gradient(180deg, rgba(255,255,255,.07), rgba(255,255,255,.035))",boxShadow:"0 16px 32px rgba(0,0,0,.28), inset 0 1px 0 rgba(255,255,255,.09)",backdropFilter:"blur(10px)",WebkitBackdropFilter:"blur(10px)",'[data-theme="light"] &':{background:"linear-gradient(180deg, #FFFFFF, #FAFAFA)",boxShadow:"0 10px 25px rgba(0,0,0,.1), inset 0 1px 0 rgba(0,0,0,.04)",backdropFilter:"none",WebkitBackdropFilter:"none"}},children:[n&&(0,g.jsx)("div",{"aria-hidden":!0,style:{position:"absolute",inset:0,background:"url(".concat(n,") center/cover no-repeat"),filter:"blur(7px) saturate(1.08)",transform:"scale(1.08)",opacity:.35}}),(0,g.jsx)("div",{"aria-hidden":!0,style:{position:"absolute",inset:0,background:"linear-gradient(55deg, rgba(255,255,255,.10), rgba(255,255,255,0) 38%)",mixBlendMode:"soft-light",pointerEvents:"none",'[data-theme="light"] &':{background:"linear-gradient(55deg, rgba(0,0,0,.05), rgba(0,0,0,0) 38%)"}}}),(0,g.jsx)("div",{style:{position:"absolute",inset:10,borderRadius:14,overflow:"hidden",display:"grid",placeItems:"center",background:"rgba(0,0,0,.10)",'[data-theme="light"] &':{background:"rgba(0,0,0,.03)"}},children:(0,g.jsx)(d.P.img,{src:a,alt:i,loading:"lazy",decoding:"async",onLoad:e=>{s(!0);const t=e.currentTarget;t&&t.naturalWidth&&t.naturalHeight&&c({w:t.naturalWidth,h:t.naturalHeight})},initial:{opacity:0,scale:.985},animate:{opacity:o?1:0,scale:o?1:.985},transition:{duration:.26,ease:"easeOut"},style:{maxWidth:m,maxHeight:b,width:"auto",height:"auto",objectFit:"contain",objectPosition:"center",imageRendering:"auto",pointerEvents:"none",filter:"drop-shadow(0 6px 14px rgba(0,0,0,.30))",'[data-theme="light"] &':{filter:"drop-shadow(0 6px 14px rgba(0,0,0,.15))"}}})})]})},u=e=>{let{product:t,onClose:a}=e;const[i,n]=(0,r.useState)(""),[o,s]=(0,r.useState)("idle");return(0,g.jsx)(d.P.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},style:{position:"fixed",inset:0,background:"rgba(0,0,0,0.65)",backdropFilter:"blur(6px)",WebkitBackdropFilter:"blur(6px)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3,'[data-theme="light"] &':{background:"rgba(255,255,255,0.65)"}},onClick:a,children:(0,g.jsx)(d.P.div,{initial:{scale:.9,y:12},animate:{scale:1,y:0},exit:{scale:.9,opacity:0},className:"surface",style:{padding:22,width:"min(420px, 92vw)",borderRadius:"var(--radius)",border:"1px solid var(--border-primary)",boxShadow:"var(--shadow-card-hover)",background:"var(--surface-gradient)"},onClick:e=>e.stopPropagation(),children:"success"===o?(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)("h3",{className:"h2 mono",style:{color:"var(--text-primary)",margin:0},children:"\u0414\u044f\u043a\u0443\u0454\u043c\u043e!"})," ",(0,g.jsxs)("p",{className:"p",style:{marginTop:10,color:"var(--text-secondary)"},children:[" ","\u041f\u043e\u0432\u0456\u0434\u043e\u043c\u0438\u043c\u043e \u0437\u0430 \u043d\u043e\u043c\u0435\u0440\u043e\u043c ",(0,g.jsx)("strong",{children:i}),", \u043a\u043e\u043b\u0438 \u0442\u043e\u0432\u0430\u0440 \u0437\u02bc\u044f\u0432\u0438\u0442\u044c\u0441\u044f."]}),(0,g.jsx)("button",{className:"btn btn-green",style:{marginTop:18},onClick:a,children:"\u0417\u0430\u043a\u0440\u0438\u0442\u0438"})]}):(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)("h3",{className:"h2 mono",style:{color:"var(--text-primary)",margin:0},children:"\u0425\u043e\u0447\u0443 \u0446\u0435\u0439 \u0442\u043e\u0432\u0430\u0440"})," ",(0,g.jsxs)("p",{className:"p",style:{marginTop:10,color:"var(--text-secondary)"},children:[" ","\u0412\u043a\u0430\u0436\u0456\u0442\u044c \u0442\u0435\u043b\u0435\u0444\u043e\u043d \u2014 \u043d\u0430\u0434\u0456\u0448\u043b\u0435\u043c\u043e \u0441\u043f\u043e\u0432\u0456\u0449\u0435\u043d\u043d\u044f, \u044f\u043a \u0442\u0456\u043b\u044c\u043a\u0438 \u0431\u0443\u0434\u0435 \u0432 \u043d\u0430\u044f\u0432\u043d\u043e\u0441\u0442\u0456."]}),(0,g.jsxs)("form",{onSubmit:async e=>{if(e.preventDefault(),i.trim()&&"sending"!==o){s("sending");try{const e=i.replace(/\D/g,""),a=e.startsWith("0")?"38".concat(e):e;await p.A.post("/api/orders/notify-me",{productId:t._id,productName:t.name,phone:a}),s("success")}catch(a){console.error(a),s("error")}}},style:{marginTop:18},children:[(0,g.jsx)("input",{type:"tel",className:"input",placeholder:"380...",value:i,onChange:e=>n(e.target.value),required:!0}),"error"===o&&(0,g.jsxs)("p",{style:{color:"var(--accent-pink)",fontSize:10,marginTop:6},children:[" ","\u0421\u0442\u0430\u043b\u0430\u0441\u044f \u043f\u043e\u043c\u0438\u043b\u043a\u0430. \u0421\u043f\u0440\u043e\u0431\u0443\u0439\u0442\u0435 \u043f\u0456\u0437\u043d\u0456\u0448\u0435."]}),(0,g.jsx)(d.P.button,{type:"submit",className:"btn",disabled:"sending"===o,style:{width:"100%",marginTop:14},whileTap:{scale:.97},children:"sending"===o?"\u041d\u0430\u0434\u0441\u0438\u043b\u0430\u0454\u043c\u043e\u2026":"\u041f\u043e\u0432\u0456\u0434\u043e\u043c\u0438\u0442\u0438 \u043c\u0435\u043d\u0435"})]})]})})})},m=r.memo(e=>{let{product:t,variant:a="grid",compact:p=!1}=e;const m=(0,n.wA)(),b=(0,n.d4)(s.w6),v=(0,n.d4)(o.Fs),[y,f]=(0,r.useState)(!1),w="carousel"===a,j=p||w,k=(0,r.useMemo)(()=>b.some(e=>e.id===t._id),[b,t._id]),S=(0,r.useMemo)(()=>v.some(e=>e.id===t._id),[v,t._id]),N=(0,r.useMemo)(()=>Number(t.stock)>0&&Number(t.price)>0,[t.stock,t.price]),C=function(){const e=x(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"");return/(\u0432\u0436\u0438\u0432\u0430\u043d|\u0431\/?\s?\u0432|\u0431\u0443|\u0431\.\u0432|\u0431 \u0443|\u0431\su|\u0431\sy|\u0431\u044b\u0432\u0448|\u043f\u043e\u0434\u0435\u0440\u0436|used|pre[-\s]?owned|second hand)/i.test(e)?"used":/(\u043d\u043e\u0432\u0430(\u044f|\u0438\u0439|\u0435|\u0456)?|\u043d\u043e\u0432\u0438\u0439|\u043d\u043e\u0432\u0435|new(?!\s?balance)|sealed|\u0437\u0430\u043f\u0430\u043a\u043e\u0432\u0430\u043d|\u0437\u0430\u043f\u0435\u0447\u0430\u0442\u0430\u043d)/i.test(e)?"new":null}(null===t||void 0===t?void 0:t.name)||("new"===(null===t||void 0===t?void 0:t.condition)?"new":"used"===(null===t||void 0===t?void 0:t.condition)?"used":null),T=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:800,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:82;return e?"/api/images?url=".concat(encodeURIComponent(e),"&w=").concat(t,"&q=").concat(a):"/assets/bitzone-logo1.png"}(t.images&&t.images[0]||t.image,800,82),F=(0,r.useCallback)(e=>{e.preventDefault(),e.stopPropagation(),N&&!S&&m((0,o.bE)({id:t._id,name:t.name,price:Number(t.price)||0,image:t.images&&t.images[0]||t.image,qty:1}))},[m,N,S,t]),W=(0,r.useCallback)(e=>{e.preventDefault(),e.stopPropagation(),m((0,s.jt)({id:t._id,name:t.name,price:Number(t.price)||0,image:t.images&&t.images[0]||t.image}))},[m,t]),z={fontSize:j?"clamp(12px, 2.7vw, 13px)":"clamp(13px, 2.3vw, 15px)",lineHeight:1.35,margin:0,color:"var(--text-primary)",textShadow:"none",display:"-webkit-box",WebkitLineClamp:2,WebkitBoxOrient:"vertical",overflow:"hidden"},A=t.category?(0,g.jsx)("div",{style:{fontSize:j?9.5:10.5,color:"var(--text-secondary)",padding:j?"3px 7px":"4px 8px",borderRadius:999,border:"1px solid var(--border-primary)",background:"linear-gradient(180deg, rgba(255,255,255,.05), rgba(255,255,255,.02))",backdropFilter:"blur(3px)",WebkitBackdropFilter:"blur(3px)",whiteSpace:"nowrap",textOverflow:"ellipsis",overflow:"hidden",maxWidth:j?96:140,'[data-theme="light"] &':{background:"var(--surface-input)",backdropFilter:"none",WebkitBackdropFilter:"none"}},title:t.category,children:String(t.category).toUpperCase()}):null;return(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)(c.N,{children:y&&(0,g.jsx)(u,{product:t,onClose:()=>f(!1)})}),(0,g.jsxs)(d.P.div,{className:"card surface","data-variant":w?"carousel":"grid",variants:{hidden:{opacity:0,y:16},visible:{opacity:1,y:0,transition:{duration:.3,ease:"easeOut"}},hover:{y:-2,boxShadow:"var(--shadow-card-hover)",transition:{duration:.18,ease:"easeInOut"}}},initial:"hidden",animate:"visible",whileHover:"hover",style:{filter:N?"none":"grayscale(45%)",opacity:N?1:.95},children:[(0,g.jsx)(c.N,{children:!N&&(0,g.jsx)(d.P.span,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},style:{position:"absolute",top:10,left:10,padding:"6px 10px",fontSize:10,fontWeight:800,letterSpacing:.2,color:"var(--text-on-accent-light)",background:"linear-gradient(180deg, var(--accent-red), var(--accent-red-dark))",border:"1px solid var(--accent-red)",borderRadius:999,boxShadow:"0 6px 18px rgba(0,0,0,.35), inset 0 1px 0 rgba(255,255,255,.2)",zIndex:6},children:"\u041d\u0435\u043c\u0430\u0454 \u0432 \u043d\u0430\u044f\u0432\u043d\u043e\u0441\u0442\u0456"})}),C&&(0,g.jsx)(d.P.span,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},style:{position:"absolute",top:10,right:10,padding:"6px 10px",fontSize:10,fontWeight:900,letterSpacing:.3,borderRadius:999,border:"1px solid rgba(0,0,0,.15)",boxShadow:"0 8px 18px rgba(0,0,0,.25), inset 0 1px 0 rgba(255,255,255,.35)",zIndex:6,background:"used"===C?"linear-gradient(180deg, #7CFF7C, #42D742)":"linear-gradient(180deg, var(--accent-yellow), var(--accent-yellow-dark))",color:"var(--text-on-accent-dark)"},children:"used"===C?"\u0411/\u0412":"\u041d\u041e\u0412\u0410"}),(0,g.jsx)("div",{style:{padding:j?10:12,paddingBottom:0},children:(0,g.jsx)(i.N_,{to:N?"/product/".concat(t._id):"#",style:{display:"block",pointerEvents:N?"auto":"none",cursor:N?"pointer":"default"},"aria-label":t.name,children:(0,g.jsx)(h,{product:t,src:T,alt:t.name,lqip:t.lqip})})}),(0,g.jsxs)("div",{className:"card-body",style:{padding:j?"10px 10px 12px":"12px 12px 14px",display:"flex",flexDirection:"column",gap:j?8:10,flexGrow:1},children:[(0,g.jsx)(i.N_,{to:N?"/product/".concat(t._id):"#",style:{textDecoration:"none",pointerEvents:N?"auto":"none",cursor:N?"pointer":"default"},children:(0,g.jsx)("h3",{className:"h2 mono",style:z,children:t.name})}),(0,g.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"1fr auto",alignItems:"center",gap:j?6:8},children:[(0,g.jsx)("div",{style:{color:"var(--text-primary)",fontWeight:800,fontSize:j?"clamp(12px, 2.9vw, 13px)":"clamp(13px, 2.3vw, 14px)",textShadow:"none"},children:(0,l.A)(Number(t.price)||0)}),A]}),(0,g.jsx)("div",{style:{display:"flex",gap:8,marginTop:"auto"},children:N?(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)(d.P.button,{className:"btn btn-green ".concat(S?"in-cart":""),onClick:F,disabled:S,whileTap:{scale:.98},style:{flex:1,padding:j?"8px 10px":"10px 12px",fontSize:j?11.5:12,minHeight:34,height:34,opacity:S?.7:1,cursor:S?"not-allowed":"pointer"},children:S?"\u2713 \u0423 \u043a\u043e\u0448\u0438\u043a\u0443":"\u0412 \u043a\u043e\u0448\u0438\u043a"}),(0,g.jsx)(d.P.button,{className:"btn btn-wish ".concat(k?"active":""),onClick:W,animate:k?{scale:[1,1.08,1]}:{},whileHover:{scale:1.05},whileTap:{scale:.95},style:{width:36,height:34,minHeight:34,padding:0,background:k?"linear-gradient(180deg, var(--accent-pink), var(--accent-pink-dark))":"var(--surface-input)",borderColor:k?"var(--accent-pink)":"var(--border-input)",borderRadius:10,fontWeight:800,color:k?"var(--text-on-accent-light)":"var(--text-secondary)"},"aria-label":"\u041e\u0431\u0440\u0430\u043d\u0435",children:k?"\u2665":"\u2661"})]}):(0,g.jsx)(d.P.button,{className:"btn btn-outline",style:{width:"100%",borderColor:"var(--accent-yellow)",color:"var(--accent-yellow)",padding:j?"8px 10px":"10px 12px",minHeight:34,height:34,fontSize:j?11.5:12,fontWeight:700},onClick:()=>f(!0),whileHover:{scale:1.03},whileTap:{scale:.98},children:"\u041f\u043e\u0432\u0456\u0434\u043e\u043c\u0438\u0442\u0438"})})]})]})]})})}}]);
//# sourceMappingURL=991.0dc8b913.chunk.js.map