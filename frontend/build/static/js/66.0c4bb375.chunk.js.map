{"version":3,"file":"static/js/66.0c4bb375.chunk.js","mappings":"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","sources":["pages/Login.js"],"sourcesContent":["// src/pages/Login.js\r\n\r\nimport React, { useState } from 'react';\r\nimport { Link, useNavigate } from 'react-router-dom';\r\nimport { motion, AnimatePresence } from 'framer-motion';\r\nimport axios from 'axios';\r\nimport { useDispatch } from 'react-redux';\r\nimport { loginSuccess } from '../redux/authSlice';\r\n\r\nexport default function Login() {\r\n  const [formData, setFormData] = useState({ phone: '', password: '' });\r\n  const [errors, setErrors] = useState({});\r\n  const [loginError, setLoginError] = useState('');\r\n  const [isSubmitting, setIsSubmitting] = useState(false);\r\n  const [success, setSuccess] = useState(false);\r\n  const navigate = useNavigate();\r\n  const dispatch = useDispatch();\r\n\r\n  const handleInputChange = (e) => {\r\n    const { name, value } = e.target;\r\n    setFormData({ ...formData, [name]: value });\r\n    if (errors[name]) setErrors({ ...errors, [name]: '' });\r\n    setLoginError('');\r\n  };\r\n  \r\n  // –í–∞–ª—ñ–¥–∞—Ü—ñ—è\r\n  const validateForm = () => {\r\n      const newErrors = {};\r\n      if (!formData.phone.trim()) newErrors.phone = \"–¢–µ–ª–µ—Ñ–æ–Ω –æ–±–æ–≤'—è–∑–∫–æ–≤–∏–π\";\r\n      if (!formData.password) newErrors.password = \"–ü–∞—Ä–æ–ª—å –æ–±–æ–≤'—è–∑–∫–æ–≤–∏–π\";\r\n      setErrors(newErrors);\r\n      return Object.keys(newErrors).length === 0;\r\n  };\r\n  \r\n  // --- –õ–æ–≥—ñ–∫–∞ handleSubmit (–±–µ–∑ –∑–º—ñ–Ω) ---\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n    setLoginError('');\r\n    if (!validateForm() || isSubmitting) return;\r\n\r\n    setIsSubmitting(true);\r\n    try {\r\n      // –ù–æ—Ä–º–∞–ª—ñ–∑—É—î–º–æ –Ω–æ–º–µ—Ä —Ç–µ–ª–µ—Ñ–æ–Ω—É –¥–æ —Ñ–æ—Ä–º–∞—Ç—É 380...\r\n      const cleaned = formData.phone.replace(/\\D/g, '');\r\n      const normalizedPhone = cleaned.startsWith('0') ? `38${cleaned}` : cleaned;\r\n\r\n      const response = await axios.post('/api/auth/login', {\r\n        phone: normalizedPhone,\r\n        password: formData.password\r\n      });\r\n      // –ó–±–µ—Ä—ñ–≥–∞—î–º–æ —Ç–æ–∫–µ–Ω —Ç–∞ –¥–∞–Ω—ñ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞ –≤ Redux\r\n      dispatch(loginSuccess({ token: response.data.token }));\r\n      \r\n      setSuccess(true);\r\n      // –ü–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–ª—è—î–º–æ –Ω–∞ –≥–æ–ª–æ–≤–Ω—É —Å—Ç–æ—Ä—ñ–Ω–∫—É —á–µ—Ä–µ–∑ 1.5 —Å–µ–∫—É–Ω–¥–∏\r\n      setTimeout(() => navigate('/'), 1500);\r\n    } catch (err) {\r\n      const message = err.response?.data?.message || '–°—Ç–∞–ª–∞—Å—è –ø–æ–º–∏–ª–∫–∞. –°–ø—Ä–æ–±—É–π—Ç–µ —â–µ —Ä–∞–∑.';\r\n      setLoginError(message);\r\n    } finally {\r\n      setIsSubmitting(false);\r\n    }\r\n  };\r\n  \r\n  const formVariants = { hidden: { opacity: 0, y: 30, scale: 0.95 }, visible: { opacity: 1, y: 0, scale: 1, transition: { duration: 0.6, ease: 'easeOut' } } };\r\n  const successVariants = { hidden: { scale: 0, opacity: 0, rotate: -180 }, visible: { scale: 1, opacity: 1, rotate: 0, transition: { duration: 0.5, ease: 'easeOut' } } };\r\n  \r\n  return (\r\n    <section className=\"container\">\r\n      <motion.div \r\n        variants={formVariants} \r\n        initial=\"hidden\" \r\n        animate=\"visible\" \r\n        className=\"surface center auth-container\" \r\n        style={{ padding: 'clamp(24px, 5vw, 48px)' }} // –î–æ–¥–∞—î–º–æ padding\r\n      >\r\n        <div \r\n          style={{ \r\n            position: 'absolute', \r\n            inset: 0, \r\n            background: 'linear-gradient(45deg, rgba(76,175,80,0.05), rgba(0,245,255,0.05))', \r\n            pointerEvents: 'none', \r\n            zIndex: 0,\r\n            '[data-theme=\"light\"] &': {\r\n              background: 'linear-gradient(45deg, rgba(76,175,80,0.08), rgba(0,245,255,0.08))',\r\n            }\r\n          }} \r\n        />\r\n        <AnimatePresence>\r\n          {!success ? (\r\n            <div style={{ width: '100%', maxWidth: '400px', zIndex: 1 }}>\r\n              <motion.h1 \r\n                className=\"h1 retro\" \r\n                style={{ \r\n                  marginBottom: '24px', \r\n                  textAlign: 'center', \r\n                  background: 'linear-gradient(45deg, var(--accent-yellow), var(--accent-green))', \r\n                  WebkitBackgroundClip: 'text', \r\n                  WebkitTextFillColor: 'transparent',\r\n                  '[data-theme=\"light\"] &': {\r\n                     background: 'linear-gradient(45deg, var(--accent-yellow), var(--accent-green))',\r\n                     WebkitBackgroundClip: 'text', \r\n                  }\r\n                }} \r\n                initial={{ opacity: 0, y: -20 }} \r\n                animate={{ opacity: 1, y: 0 }}\r\n              >\r\n                üîê –í—Ö—ñ–¥\r\n              </motion.h1>\r\n              <form onSubmit={handleSubmit}>\r\n                <div style={{ display: 'flex', flexDirection: 'column', gap: '16px' }}>\r\n                  <div>\r\n                    <label className=\"h2 mono\" style={{ color: 'var(--accent-yellow)', marginBottom: '8px', display: 'block', fontSize: '12px' }}>–¢–µ–ª–µ—Ñ–æ–Ω</label>\r\n                    <motion.input type=\"tel\" name=\"phone\" value={formData.phone} onChange={handleInputChange} className=\"input\" style={{ width: '100%' }} placeholder=\"+380...\" />\r\n                    {errors.phone && <p className=\"p\" style={{ color: 'var(--accent-pink)', fontSize: '10px', marginTop: '4px' }}>{errors.phone}</p>}\r\n                  </div>\r\n                  <div>\r\n                    <label className=\"h2 mono\" style={{ color: 'var(--accent-yellow)', marginBottom: '8px', display: 'block', fontSize: '12px' }}>–ü–∞—Ä–æ–ª—å</label>\r\n                    <motion.input type=\"password\" name=\"password\" value={formData.password} onChange={handleInputChange} className=\"input\" style={{ width: '100%' }} placeholder=\"–í–≤–µ–¥—ñ—Ç—å –ø–∞—Ä–æ–ª—å\" />\r\n                    {errors.password && <p className=\"p\" style={{ color: 'var(--accent-pink)', fontSize: '10px', marginTop: '4px' }}>{errors.password}</p>}\r\n                  </div>\r\n                </div>\r\n                {loginError && <p className=\"p\" style={{ color: 'var(--accent-pink)', textAlign: 'center', marginTop: '12px', fontSize: '11px' }}>{loginError}</p>}\r\n                <motion.button type=\"submit\" className=\"btn btn-green\" disabled={isSubmitting} style={{ width: '100%', marginTop: '24px' }} >\r\n                  {isSubmitting ? '–í—Ö–æ–¥–∏–º–æ...' : '–£–≤—ñ–π—Ç–∏'}\r\n                </motion.button>\r\n              </form>\r\n              <p style={{ textAlign: 'center', marginTop: '20px', fontSize: '11px', opacity: 0.8, color: 'var(--text-secondary)' }}>\r\n                –ù–µ–º–∞—î –∞–∫–∞—É–Ω—Ç—É? <Link to=\"/register\" style={{ color: 'var(--accent-turquoise)' }}>–ó–∞—Ä–µ—î—Å—Ç—Ä—É–π—Ç–µ—Å—è</Link>\r\n              </p>\r\n            </div>\r\n          ) : (\r\n            <motion.div variants={successVariants} className=\"center\" style={{ flexDirection: 'column', gap: '20px' }}>\r\n              <h2 style={{ color: 'var(--accent-green)' }}>‚úÖ –£—Å–ø—ñ—à–Ω–æ!</h2>\r\n              <p style={{ color: 'var(--text-secondary)' }}>–ü–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–ª—è—î–º–æ –Ω–∞ –≥–æ–ª–æ–≤–Ω—É...</p>\r\n            </motion.div>\r\n          )}\r\n        </AnimatePresence>\r\n      </motion.div>\r\n    </section>\r\n  );\r\n}"],"names":["Login","formData","setFormData","useState","phone","password","errors","setErrors","loginError","setLoginError","isSubmitting","setIsSubmitting","success","setSuccess","navigate","useNavigate","dispatch","useDispatch","handleInputChange","e","name","value","target","_objectSpread","_jsx","className","children","_jsxs","motion","div","variants","hidden","opacity","y","scale","visible","transition","duration","ease","initial","animate","style","padding","position","inset","background","pointerEvents","zIndex","AnimatePresence","rotate","flexDirection","gap","color","width","maxWidth","h1","marginBottom","textAlign","WebkitBackgroundClip","WebkitTextFillColor","onSubmit","async","preventDefault","validateForm","newErrors","trim","Object","keys","length","cleaned","replace","normalizedPhone","startsWith","concat","response","axios","post","loginSuccess","token","data","setTimeout","err","_err$response","_err$response$data","message","display","fontSize","input","type","onChange","placeholder","marginTop","button","disabled","Link","to"],"sourceRoot":""}