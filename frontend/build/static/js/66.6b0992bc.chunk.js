"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[66],{9066:(e,t,a)=>{a.r(t),a.d(t,{default:()=>h});var n=a(9379),s=a(5043),i=a(7338),r=a(9570),l=a(6446),o=a(9722),c=a(3003),p=a(4493),d=a(579);function h(){const[e,t]=(0,s.useState)({phone:"",password:""}),[a,h]=(0,s.useState)({}),[x,g]=(0,s.useState)(""),[u,y]=(0,s.useState)(!1),[m,v]=(0,s.useState)(!1),b=(0,i.Zp)(),j=(0,c.wA)(),w=s=>{const{name:i,value:r}=s.target;t((0,n.A)((0,n.A)({},e),{},{[i]:r})),a[i]&&h((0,n.A)((0,n.A)({},a),{},{[i]:""})),g("")};return(0,d.jsx)("section",{className:"container",children:(0,d.jsxs)(l.P.div,{variants:{hidden:{opacity:0,y:30,scale:.95},visible:{opacity:1,y:0,scale:1,transition:{duration:.6,ease:"easeOut"}}},initial:"hidden",animate:"visible",className:"surface center auth-container",style:{padding:"clamp(24px, 5vw, 48px)"},children:[(0,d.jsx)("div",{style:{position:"absolute",inset:0,background:"linear-gradient(45deg, rgba(76,175,80,0.05), rgba(0,245,255,0.05))",pointerEvents:"none",zIndex:0,'[data-theme="light"] &':{background:"linear-gradient(45deg, rgba(76,175,80,0.08), rgba(0,245,255,0.08))"}}}),(0,d.jsx)(r.N,{children:m?(0,d.jsxs)(l.P.div,{variants:{hidden:{scale:0,opacity:0,rotate:-180},visible:{scale:1,opacity:1,rotate:0,transition:{duration:.5,ease:"easeOut"}}},className:"center",style:{flexDirection:"column",gap:"20px"},children:[(0,d.jsx)("h2",{style:{color:"var(--accent-green)"},children:"\u2705 \u0423\u0441\u043f\u0456\u0448\u043d\u043e!"}),(0,d.jsx)("p",{style:{color:"var(--text-secondary)"},children:"\u041f\u0435\u0440\u0435\u043d\u0430\u043f\u0440\u0430\u0432\u043b\u044f\u0454\u043c\u043e \u043d\u0430 \u0433\u043e\u043b\u043e\u0432\u043d\u0443..."})]}):(0,d.jsxs)("div",{style:{width:"100%",maxWidth:"400px",zIndex:1},children:[(0,d.jsx)(l.P.h1,{className:"h1 retro",style:{marginBottom:"24px",textAlign:"center",background:"linear-gradient(45deg, var(--accent-yellow), var(--accent-green))",WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent",'[data-theme="light"] &':{background:"linear-gradient(45deg, var(--accent-yellow), var(--accent-green))",WebkitBackgroundClip:"text"}},initial:{opacity:0,y:-20},animate:{opacity:1,y:0},children:"\ud83d\udd10 \u0412\u0445\u0456\u0434"}),(0,d.jsxs)("form",{onSubmit:async t=>{if(t.preventDefault(),g(""),(()=>{const t={};return e.phone.trim()||(t.phone="\u0422\u0435\u043b\u0435\u0444\u043e\u043d \u043e\u0431\u043e\u0432'\u044f\u0437\u043a\u043e\u0432\u0438\u0439"),e.password||(t.password="\u041f\u0430\u0440\u043e\u043b\u044c \u043e\u0431\u043e\u0432'\u044f\u0437\u043a\u043e\u0432\u0438\u0439"),h(t),0===Object.keys(t).length})()&&!u){y(!0);try{const t=e.phone.replace(/\D/g,""),a=t.startsWith("0")?"38".concat(t):t,n=await o.A.post("/api/auth/login",{phone:a,password:e.password});j((0,p.Ne)({token:n.data.token})),v(!0),setTimeout(()=>b("/"),1500)}catch(s){var a,n;const e=(null===(a=s.response)||void 0===a||null===(n=a.data)||void 0===n?void 0:n.message)||"\u0421\u0442\u0430\u043b\u0430\u0441\u044f \u043f\u043e\u043c\u0438\u043b\u043a\u0430. \u0421\u043f\u0440\u043e\u0431\u0443\u0439\u0442\u0435 \u0449\u0435 \u0440\u0430\u0437.";g(e)}finally{y(!1)}}},children:[(0,d.jsxs)("div",{style:{display:"flex",flexDirection:"column",gap:"16px"},children:[(0,d.jsxs)("div",{children:[(0,d.jsx)("label",{className:"h2 mono",style:{color:"var(--accent-yellow)",marginBottom:"8px",display:"block",fontSize:"12px"},children:"\u0422\u0435\u043b\u0435\u0444\u043e\u043d"}),(0,d.jsx)(l.P.input,{type:"tel",name:"phone",value:e.phone,onChange:w,className:"input",style:{width:"100%"},placeholder:"+380..."}),a.phone&&(0,d.jsx)("p",{className:"p",style:{color:"var(--accent-pink)",fontSize:"10px",marginTop:"4px"},children:a.phone})]}),(0,d.jsxs)("div",{children:[(0,d.jsx)("label",{className:"h2 mono",style:{color:"var(--accent-yellow)",marginBottom:"8px",display:"block",fontSize:"12px"},children:"\u041f\u0430\u0440\u043e\u043b\u044c"}),(0,d.jsx)(l.P.input,{type:"password",name:"password",value:e.password,onChange:w,className:"input",style:{width:"100%"},placeholder:"\u0412\u0432\u0435\u0434\u0456\u0442\u044c \u043f\u0430\u0440\u043e\u043b\u044c"}),a.password&&(0,d.jsx)("p",{className:"p",style:{color:"var(--accent-pink)",fontSize:"10px",marginTop:"4px"},children:a.password})]})]}),x&&(0,d.jsx)("p",{className:"p",style:{color:"var(--accent-pink)",textAlign:"center",marginTop:"12px",fontSize:"11px"},children:x}),(0,d.jsx)(l.P.button,{type:"submit",className:"btn btn-green",disabled:u,style:{width:"100%",marginTop:"24px"},children:u?"\u0412\u0445\u043e\u0434\u0438\u043c\u043e...":"\u0423\u0432\u0456\u0439\u0442\u0438"})]}),(0,d.jsxs)("p",{style:{textAlign:"center",marginTop:"20px",fontSize:"11px",opacity:.8,color:"var(--text-secondary)"},children:["\u041d\u0435\u043c\u0430\u0454 \u0430\u043a\u0430\u0443\u043d\u0442\u0443? ",(0,d.jsx)(i.N_,{to:"/register",style:{color:"var(--accent-turquoise)"},children:"\u0417\u0430\u0440\u0435\u0454\u0441\u0442\u0440\u0443\u0439\u0442\u0435\u0441\u044f"})]})]})})]})})}}}]);
//# sourceMappingURL=66.6b0992bc.chunk.js.map