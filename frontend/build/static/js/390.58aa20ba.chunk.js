"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[390],{3390:(e,a,t)=>{t.r(a),t.d(a,{default:()=>p});var n=t(9379),s=t(5043),i=t(7338),l=t(9570),r=t(6446),o=t(9722),c=t(579);function p(){const[e,a]=(0,s.useState)({firstName:"",lastName:"",phone:"",password:""}),[t,p]=(0,s.useState)({}),[d,h]=(0,s.useState)(""),[x,m]=(0,s.useState)(!1),[g,y]=(0,s.useState)(!1),u=(0,i.Zp)(),v=s=>{const{name:i,value:l}=s.target;a((0,n.A)((0,n.A)({},e),{},{[i]:l})),t[i]&&p((0,n.A)((0,n.A)({},t),{},{[i]:""})),h("")};return(0,c.jsx)("section",{className:"container",children:(0,c.jsxs)(r.P.div,{variants:{hidden:{opacity:0,y:30,scale:.95},visible:{opacity:1,y:0,scale:1,transition:{duration:.6,ease:"easeOut"}}},initial:"hidden",animate:"visible",className:"surface center auth-container",style:{padding:"clamp(24px, 5vw, 48px)"},children:[(0,c.jsx)("div",{style:{position:"absolute",inset:0,background:"linear-gradient(45deg, rgba(76,175,80,0.05), rgba(0,245,255,0.05))",pointerEvents:"none",zIndex:0,'[data-theme="light"] &':{background:"linear-gradient(45deg, rgba(76,175,80,0.08), rgba(0,245,255,0.08))"}}}),(0,c.jsx)(l.N,{mode:"wait",children:g?(0,c.jsxs)(r.P.div,{variants:{hidden:{scale:.9,opacity:0,y:20},visible:{scale:1,opacity:1,y:0,transition:{duration:.4,ease:"easeOut"}}},initial:"hidden",animate:"visible",exit:"hidden",className:"center",style:{flexDirection:"column",gap:"16px",textAlign:"center"},children:[(0,c.jsx)(r.P.div,{animate:{scale:[1,1.1,1]},transition:{duration:.8,repeat:1/0,repeatDelay:1.5,ease:"easeInOut"},style:{width:"70px",height:"70px",borderRadius:"18px",background:"var(--accent-green)",display:"flex",alignItems:"center",justifyContent:"center",boxShadow:"0 0 25px var(--shadow-btn-green), inset 0 0 10px rgba(255, 255, 255, 0.2)"},children:(0,c.jsx)("svg",{width:"40",height:"40",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,c.jsx)(r.P.path,{d:"M5 13L9 17L19 7",stroke:"var(--text-on-accent-light)",strokeWidth:"3",strokeLinecap:"round",strokeLinejoin:"round",initial:{pathLength:0},animate:{pathLength:1},transition:{duration:.5,ease:"easeOut"}})})}),(0,c.jsx)("h2",{className:"h2 mono",style:{color:"var(--accent-green)",margin:0,textShadow:"0 0 10px var(--accent-green)"},children:"\u0420\u0435\u0454\u0441\u0442\u0440\u0430\u0446\u0456\u044f \u0443\u0441\u043f\u0456\u0448\u043d\u0430!"}),(0,c.jsx)("p",{className:"p",style:{margin:0,opacity:.8,color:"var(--text-secondary)"},children:"\u0417\u0430\u0440\u0430\u0437 \u0432\u0438 \u0431\u0443\u0434\u0435\u0442\u0435 \u043f\u0435\u0440\u0435\u043d\u0430\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0456 \u043d\u0430 \u0441\u0442\u043e\u0440\u0456\u043d\u043a\u0443 \u0432\u0445\u043e\u0434\u0443."})]},"success"):(0,c.jsxs)(r.P.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},style:{width:"100%",maxWidth:"400px",zIndex:1},children:[(0,c.jsx)(r.P.h1,{className:"h1 retro",style:{marginBottom:"24px",textAlign:"center",background:"linear-gradient(45deg, var(--accent-yellow), var(--accent-green))",WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent",'[data-theme="light"] &':{background:"linear-gradient(45deg, var(--accent-yellow), var(--accent-green))",WebkitBackgroundClip:"text"}},initial:{opacity:0,y:-20},animate:{opacity:1,y:0},children:"\ud83d\udc64 \u0420\u0435\u0454\u0441\u0442\u0440\u0430\u0446\u0456\u044f"}),(0,c.jsxs)("form",{onSubmit:async a=>{if(a.preventDefault(),h(""),(()=>{const a={};e.firstName.trim()||(a.firstName="\u0406\u043c'\u044f \u043e\u0431\u043e\u0432'\u044f\u0437\u043a\u043e\u0432\u0435"),e.lastName.trim()||(a.lastName="\u041f\u0440\u0456\u0437\u0432\u0438\u0449\u0435 \u043e\u0431\u043e\u0432'\u044f\u0437\u043a\u043e\u0432\u0435");const t=e.phone.replace(/\s/g,"");var n;return t?/^(\+380|0)\d{9}$/.test(t.replace(/\s/g,""))||(a.phone="\u041d\u0435\u0432\u0456\u0440\u043d\u0438\u0439 \u0444\u043e\u0440\u043c\u0430\u0442 \u0442\u0435\u043b\u0435\u0444\u043e\u043d\u0443 (\u043d\u0430\u043f\u0440\u0438\u043a\u043b\u0430\u0434: 0671234567)"):a.phone="\u0422\u0435\u043b\u0435\u0444\u043e\u043d \u043e\u0431\u043e\u0432'\u044f\u0437\u043a\u043e\u0432\u0438\u0439",e.password?(n=e.password,/^(?=.*[A-Z])(?=.*\d).{8,}$/.test(n)||(a.password="\u041f\u0430\u0440\u043e\u043b\u044c \u043f\u043e\u0432\u0438\u043d\u0435\u043d \u043c\u0456\u0441\u0442\u0438\u0442\u0438 \u043c\u0456\u043d\u0456\u043c\u0443\u043c 8 \u0441\u0438\u043c\u0432\u043e\u043b\u0456\u0432, \u0432\u0435\u043b\u0438\u043a\u0443 \u043b\u0456\u0442\u0435\u0440\u0443 \u0442\u0430 \u0446\u0438\u0444\u0440\u0443")):a.password="\u041f\u0430\u0440\u043e\u043b\u044c \u043e\u0431\u043e\u0432'\u044f\u0437\u043a\u043e\u0432\u0438\u0439",p(a),0===Object.keys(a).length})()&&!x){m(!0);try{const a=e.phone.replace(/\D/g,""),t=a.startsWith("0")?"38".concat(a):a;await o.A.post("/api/auth/register",(0,n.A)((0,n.A)({},e),{},{phone:t})),y(!0),setTimeout(()=>u("/login"),2500)}catch(i){var t,s;const e=(null===(t=i.response)||void 0===t||null===(s=t.data)||void 0===s?void 0:s.message)||"\u0421\u0442\u0430\u043b\u0430\u0441\u044f \u043f\u043e\u043c\u0438\u043b\u043a\u0430. \u0421\u043f\u0440\u043e\u0431\u0443\u0439\u0442\u0435 \u0449\u0435 \u0440\u0430\u0437.";h(e)}finally{m(!1)}}},children:[(0,c.jsxs)("div",{style:{display:"flex",flexDirection:"column",gap:"16px"},children:[(0,c.jsxs)("div",{children:[(0,c.jsx)("label",{className:"h2 mono",style:{color:"var(--accent-yellow)",marginBottom:"8px",display:"block",fontSize:"12px"},children:"\u0406\u043c'\u044f"}),(0,c.jsx)(r.P.input,{type:"text",name:"firstName",value:e.firstName,onChange:v,className:"input",style:{width:"100%"},placeholder:"\u0412\u0432\u0435\u0434\u0456\u0442\u044c \u0456\u043c'\u044f"}),t.firstName&&(0,c.jsx)("p",{className:"p",style:{color:"var(--accent-pink)",fontSize:"10px",marginTop:"4px"},children:t.firstName})]}),(0,c.jsxs)("div",{children:[(0,c.jsx)("label",{className:"h2 mono",style:{color:"var(--accent-yellow)",marginBottom:"8px",display:"block",fontSize:"12px"},children:"\u041f\u0440\u0456\u0437\u0432\u0438\u0449\u0435"}),(0,c.jsx)(r.P.input,{type:"text",name:"lastName",value:e.lastName,onChange:v,className:"input",style:{width:"100%"},placeholder:"\u0412\u0432\u0435\u0434\u0456\u0442\u044c \u043f\u0440\u0456\u0437\u0432\u0438\u0449\u0435"}),t.lastName&&(0,c.jsx)("p",{className:"p",style:{color:"var(--accent-pink)",fontSize:"10px",marginTop:"4px"},children:t.lastName})]}),(0,c.jsxs)("div",{children:[(0,c.jsx)("label",{className:"h2 mono",style:{color:"var(--accent-yellow)",marginBottom:"8px",display:"block",fontSize:"12px"},children:"\u0422\u0435\u043b\u0435\u0444\u043e\u043d"}),(0,c.jsx)(r.P.input,{type:"tel",name:"phone",value:e.phone,onChange:v,className:"input",style:{width:"100%"},placeholder:"0..."}),t.phone&&(0,c.jsx)("p",{className:"p",style:{color:"var(--accent-pink)",fontSize:"10px",marginTop:"4px"},children:t.phone})]}),(0,c.jsxs)("div",{children:[(0,c.jsx)("label",{className:"h2 mono",style:{color:"var(--accent-yellow)",marginBottom:"8px",display:"block",fontSize:"12px"},children:"\u041f\u0430\u0440\u043e\u043b\u044c"}),(0,c.jsx)(r.P.input,{type:"password",name:"password",value:e.password,onChange:v,className:"input",style:{width:"100%"},placeholder:"\u041c\u0456\u043d. 8 \u0441\u0438\u043c\u0432\u043e\u043b\u0456\u0432, 1 \u0432\u0435\u043b\u0438\u043a\u0430 \u043b\u0456\u0442\u0435\u0440\u0430, 1 \u0446\u0438\u0444\u0440\u0430"}),t.password&&(0,c.jsx)("p",{className:"p",style:{color:"var(--accent-pink)",fontSize:"10px",marginTop:"4px"},children:t.password})]})]}),d&&(0,c.jsx)("p",{className:"p",style:{color:"var(--accent-pink)",textAlign:"center",marginTop:"12px",fontSize:"11px"},children:d}),(0,c.jsx)(r.P.button,{type:"submit",className:"btn btn-green",disabled:x,style:{width:"100%",marginTop:"24px"},children:x?"\u0420\u0435\u0454\u0441\u0442\u0440\u0443\u0454\u043c\u043e...":"\u0417\u0430\u0440\u0435\u0454\u0441\u0442\u0440\u0443\u0432\u0430\u0442\u0438\u0441\u044f"})]}),(0,c.jsxs)("p",{style:{textAlign:"center",marginTop:"20px",fontSize:"11px",opacity:.8,color:"var(--text-secondary)"},children:["\u0412\u0436\u0435 \u043c\u0430\u0454\u0442\u0435 \u0430\u043a\u0430\u0443\u043d\u0442? ",(0,c.jsx)(i.N_,{to:"/login",style:{color:"var(--accent-turquoise)"},children:"\u0423\u0432\u0456\u0439\u0434\u0456\u0442\u044c"})]})]},"form")})]})})}}}]);
//# sourceMappingURL=390.58aa20ba.chunk.js.map