{"version":3,"file":"static/js/130.6bfcadb6.chunk.js","mappings":"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","sources":["utils/formatPrice.js","pages/OrderDetail.jsx"],"sourcesContent":["export default function formatPrice(price) {\r\n  return new Intl.NumberFormat('uk-UA', {\r\n    style: 'currency',\r\n    currency: 'UAH',\r\n    minimumFractionDigits: 0,\r\n  }).format(price);\r\n}\r\n","// src/pages/OrderDetail.jsx\r\n\r\nimport React, { useState, useEffect } from 'react';\r\nimport { useParams, Link, useNavigate } from 'react-router-dom';\r\nimport { useSelector } from 'react-redux';\r\nimport axios from 'axios';\r\nimport { motion } from 'framer-motion';\r\nimport formatPrice from '../utils/formatPrice';\r\n\r\nexport default function OrderDetail() {\r\n    const { id: orderId } = useParams();\r\n    const navigate = useNavigate();\r\n    const { token, isAuthenticated } = useSelector(state => state.auth);\r\n\r\n    const [order, setOrder] = useState(null);\r\n    const [loading, setLoading] = useState(true);\r\n    const [error, setError] = useState(null);\r\n\r\n    useEffect(() => {\r\n        if (!isAuthenticated) {\r\n            navigate('/login');\r\n            return;\r\n        }\r\n\r\n        const fetchOrderDetail = async () => {\r\n            try {\r\n                const config = {\r\n                     headers: { Authorization: `Bearer ${token}` }\r\n                };\r\n                // --- ЦЕЙ URL ВЖЕ ПРАВИЛЬНИЙ ---\r\n                const { data } = await axios.get(`/api/orders/${orderId}`, config);\r\n                setOrder(data);\r\n            } catch (err) {\r\n                setError('Не вдалося завантажити деталі замовлення. Можливо, у вас немає доступу.');\r\n            } finally {\r\n                setLoading(false);\r\n            }\r\n        };\r\n\r\n        fetchOrderDetail();\r\n    }, [orderId, token, isAuthenticated, navigate]);\r\n\r\n    // --- ОНОВЛЕНО СТИЛІ ЗАВАНТАЖЕННЯ ТА ПОМИЛОК ---\r\n    if (loading) return <p className=\"p center\" style={{ color: 'var(--text-secondary)' }}>Завантаження деталей замовлення...</p>;\r\n    if (error) return <p className=\"p center\" style={{ color: 'var(--accent-pink)' }}>{error}</p>;\r\n    if (!order) return <p className=\"p center\" style={{ color: 'var(--text-secondary)' }}>Замовлення не знайдено.</p>;\r\n    \r\n    return (\r\n        <motion.div initial={{ opacity: 0, y: 20 }} animate={{ opacity: 1, y: 0 }} className=\"container\">\r\n            <Link to=\"/account\" className=\"p\" style={{ color: 'var(--accent-turquoise)', marginBottom: '24px', display: 'inline-block' }}>\r\n                &larr; Назад до профілю\r\n            </Link>\r\n\r\n            <div className=\"surface\" style={{ padding: '24px' }}>\r\n                <div style={{ display: 'flex', justifyContent: 'space-between', alignItems: 'center', flexWrap: 'wrap', gap: '16px', borderBottom: '1px solid var(--border-primary)', paddingBottom: '16px' }}> {/* <-- ЗМІНЕНО */}\r\n                    <div>\r\n                        <h1 className=\"h2 retro\" style={{ margin: 0, color: 'var(--accent-yellow)' }}>Замовлення #{order.id}</h1>\r\n                        <p className=\"p\" style={{ margin: '4px 0 0', color: 'var(--text-secondary)' }}> {/* <-- ЗМІНЕНО */}\r\n                            від {new Date(order.createdAt).toLocaleDateString()}\r\n                        </p>\r\n                    </div>\r\n                    <div style={{ textAlign: 'right' }}>\r\n                        <p className=\"p order-status\" style={{ backgroundColor: `${order.statusColor || '#555'}20`, color: order.statusColor || '#ccc' }}>\r\n                            {order.status}\r\n                        </p>\r\n                        <p className=\"p\" style={{ margin: '4px 0 0', fontWeight: 'bold', color: 'var(--accent-green)', fontSize: '18px' }}>\r\n                            {formatPrice(order.total)}\r\n                        </p>\r\n                    </div>\r\n                </div>\r\n\r\n                <h3 className=\"h2 mono\" style={{ marginTop: '32px', marginBottom: '16px', color: 'var(--text-primary)' }}>Склад замовлення</h3> {/* <-- ЗМІНЕНО */}\r\n                <div style={{ display: 'grid', gap: '16px' }}>\r\n                    {order.items.map(item => (\r\n                        <div key={item.id} style={{ display: 'grid', gridTemplateColumns: '80px 1fr auto', gap: '16px', alignItems: 'center' }}>\r\n                            <img \r\n                              src={item.image} \r\n                              alt={item.name} \r\n                              style={{ \r\n                                width: '80px', \r\n                                height: '80px', \r\n                                objectFit: 'contain', \r\n                                background: 'var(--surface-input)', /* <-- ЗМІНЕНО */\r\n                                borderRadius: '8px', \r\n                                imageRendering: 'pixelated' \r\n                              }} \r\n                            />\r\n                            <div>\r\n                                <p className=\"p\" style={{ margin: 0, fontWeight: 'bold', color: 'var(--text-primary)' }}>{item.name}</p> {/* <-- ЗМІНЕНО */}\r\n                                <p className=\"p\" style={{ margin: '4px 0 0', fontSize: '11px', color: 'var(--text-secondary)' }}> {/* <-- ЗМІНЕНО */}\r\n                                    {item.quantity} шт. x {formatPrice(item.price)}\r\n                                </p>\r\n                            </div>\r\n                            <p className=\"p mono\" style={{ margin: 0, fontWeight: 'bold', fontSize: '14px', textAlign: 'right', color: 'var(--text-primary)' }}> {/* <-- ЗМІНЕНО */}\r\n                                {formatPrice(item.quantity * item.price)}\r\n                            </p>\r\n                        </div>\r\n                    ))}\r\n                </div>\r\n            </div>\r\n        </motion.div>\r\n    );\r\n}"],"names":["formatPrice","price","Intl","NumberFormat","style","currency","minimumFractionDigits","format","OrderDetail","id","orderId","useParams","navigate","useNavigate","token","isAuthenticated","useSelector","state","auth","order","setOrder","useState","loading","setLoading","error","setError","useEffect","async","config","headers","Authorization","concat","data","axios","get","err","fetchOrderDetail","_jsx","className","color","children","_jsxs","motion","div","initial","opacity","y","animate","Link","to","marginBottom","display","padding","justifyContent","alignItems","flexWrap","gap","borderBottom","paddingBottom","margin","Date","createdAt","toLocaleDateString","textAlign","backgroundColor","statusColor","status","fontWeight","fontSize","total","marginTop","items","map","item","gridTemplateColumns","src","image","alt","name","width","height","objectFit","background","borderRadius","imageRendering","quantity"],"sourceRoot":""}