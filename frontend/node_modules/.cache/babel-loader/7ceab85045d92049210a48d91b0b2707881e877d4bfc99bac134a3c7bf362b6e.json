{"ast":null,"code":"import _objectSpread from\"D:/work/ggg/bitzone-shop-API/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";// src/pages/Account.jsx\nimport React,{useState,useEffect}from'react';import{useSelector,useDispatch}from'react-redux';import{useNavigate,Link}from'react-router-dom';import{logout}from'../redux/authSlice';import axios from'axios';import{motion,AnimatePresence}from'framer-motion';import formatPrice from'../utils/formatPrice';/* ====================== helpers ====================== */import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const useIsMobile=function(){let bp=arguments.length>0&&arguments[0]!==undefined?arguments[0]:820;const[isMobile,setIsMobile]=useState(false);useEffect(()=>{const mq=window.matchMedia(\"(max-width: \".concat(bp,\"px)\"));const onChange=e=>setIsMobile(e.matches);setIsMobile(mq.matches);mq.addEventListener('change',onChange);return()=>mq.removeEventListener('change',onChange);},[bp]);return isMobile;};const mapStatus=statusRaw=>{const s=(statusRaw||'').toString().toLowerCase();if(/delivered|completed|викон|достав/i.test(s))return{label:'Доставлено',color:'#1fbf64'};if(/paid|оплач/i.test(s))return{label:'Оплачено',color:'#00CED1'};if(/processing|в оброб/i.test(s))return{label:'В обробці',color:'#FFD700'};if(/canceled|cancelled|скас/i.test(s))return{label:'Скасовано',color:'#dc3545'};if(/pending|очіку/i.test(s))return{label:'Очікує',color:'#8A2BE2'};return{label:statusRaw||'Невідомо',color:'var(--text-3)'};};const niceDate=d=>{try{return new Date(d).toLocaleDateString('uk-UA',{day:'2-digit',month:'2-digit',year:'numeric'});}catch(_unused){return d||'';}};/* ====================== Shared UI ====================== */const StarRating=_ref=>{let{rating=0}=_ref;return/*#__PURE__*/_jsx(\"div\",{style:{display:'flex',gap:2,color:'var(--yellow)'},children:[1,2,3,4,5].map(i=>/*#__PURE__*/_jsx(\"span\",{style:{fontSize:16},children:i<=rating?'★':'☆'},i))});};const TabButton=_ref2=>{let{active,onClick,children,ariaLabel}=_ref2;return/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:onClick,className:\"btn tab-btn\",\"aria-pressed\":active,\"aria-label\":ariaLabel,onKeyDown:e=>{if(e.key==='Enter'||e.key===' '){e.preventDefault();onClick===null||onClick===void 0?void 0:onClick();}},style:{display:'inline-flex',alignItems:'center',justifyContent:'center',gap:6,padding:'8px 14px',borderRadius:999,border:'none',fontSize:14,cursor:'pointer',background:active?'var(--turquoise-2)':'var(--surface-2)',color:active?'var(--black)':'var(--text-2)',boxShadow:active?'0 0 0 1px rgba(0,0,0,0.14)':'none',transition:'background 0.15s ease, transform 0.1s ease, box-shadow 0.15s ease'},children:children});};/* ====================== Orders Tab ====================== */const OrdersTab=_ref3=>{let{token,isMobile}=_ref3;const[orders,setOrders]=useState([]);const[state,setState]=useState({loading:true,error:''});useEffect(()=>{if(!token)return;let cancelled=false;const load=async()=>{setState({loading:true,error:''});try{// тепер беремо ГОТОВИЙ список з бекенда\nconst{data}=await axios.get('/api/orders/my',{headers:{Authorization:\"Bearer \".concat(token)}});const baseOrders=Array.isArray(data)?data:[];if(!cancelled){setOrders(baseOrders);setState({loading:false,error:''});}}catch(err){console.error('[OrdersTab] Помилка завантаження замовлень:',err);if(!cancelled){setState({loading:false,error:'Не вдалося завантажити замовлення. Спробуйте пізніше.'});}}};load();return()=>{cancelled=true;};},[token]);if(state.loading){return/*#__PURE__*/_jsx(\"div\",{className:\"surface\",style:{padding:16},children:/*#__PURE__*/_jsx(\"p\",{style:{margin:0,color:'var(--text-2)'},children:\"\\u0417\\u0430\\u0432\\u0430\\u043D\\u0442\\u0430\\u0436\\u0443\\u0454\\u043C\\u043E \\u0432\\u0430\\u0448\\u0456 \\u0437\\u0430\\u043C\\u043E\\u0432\\u043B\\u0435\\u043D\\u043D\\u044F\\u2026\"})});}if(state.error){return/*#__PURE__*/_jsx(\"div\",{className:\"surface\",style:{padding:16},children:/*#__PURE__*/_jsx(\"p\",{style:{margin:0,color:'var(--error)'},children:state.error})});}if(!orders.length){return/*#__PURE__*/_jsx(\"div\",{className:\"surface\",style:{padding:16},children:/*#__PURE__*/_jsx(\"p\",{style:{margin:0,color:'var(--text-2)'},children:\"\\u0412\\u0438 \\u0449\\u0435 \\u043D\\u0435 \\u0440\\u043E\\u0431\\u0438\\u043B\\u0438 \\u0437\\u0430\\u043C\\u043E\\u0432\\u043B\\u0435\\u043D\\u044C. \\u041E\\u0431\\u0435\\u0440\\u0456\\u0442\\u044C \\u0449\\u043E\\u0441\\u044C \\u0443 \\u043A\\u0430\\u0442\\u0430\\u043B\\u043E\\u0437\\u0456!\"})});}return/*#__PURE__*/_jsx(\"div\",{style:{display:'flex',flexDirection:'column',gap:10},children:orders.map((order,i)=>{const id=order.id||order._id||i+1;const statusInfo=mapStatus(order.status);const items=order.items||[];const total=order.total||0;const thumbs=items.slice(0,4);const extraCount=items.length>4?items.length-4:0;return/*#__PURE__*/_jsx(Link,{to:\"/account/orders/\".concat(id),style:{textDecoration:'none',color:'inherit'},children:/*#__PURE__*/_jsxs(motion.div,{className:\"surface order-card\",initial:{opacity:0,y:8},animate:{opacity:1,y:0},transition:{delay:i*0.03},style:{padding:isMobile?12:16,borderRadius:18,borderLeft:\"4px solid \".concat(order.statusColor||statusInfo.color),display:'grid',gridTemplateColumns:isMobile?'minmax(0, 1fr)':'minmax(0, 2.1fr) minmax(0, 2.3fr) minmax(0, 1.6fr) auto',gap:10,alignItems:'center'},children:[/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',flexDirection:'column',gap:4},children:[/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',alignItems:'center',gap:6,justifyContent:'space-between'},children:[/*#__PURE__*/_jsxs(\"div\",{className:\"mono\",style:{fontWeight:800,color:'var(--text-1)',fontSize:14},children:[\"#\",id]}),/*#__PURE__*/_jsx(\"span\",{style:{display:'inline-flex',alignItems:'center',justifyContent:'center',padding:'4px 10px',borderRadius:999,fontSize:11,background:'rgba(255,255,255,0.03)',border:\"1px solid \".concat(order.statusColor||statusInfo.color),color:order.statusColor||statusInfo.color,textTransform:'uppercase',letterSpacing:0.06,whiteSpace:'nowrap'},children:statusInfo.label})]}),/*#__PURE__*/_jsx(\"div\",{style:{fontSize:12,color:'var(--text-3)'},children:niceDate(order.createdAt)})]}),/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',alignItems:'center',gap:6,overflow:'hidden'},children:[thumbs.map((item,idx)=>/*#__PURE__*/_jsx(\"div\",{style:{width:isMobile?40:42,height:isMobile?40:42,borderRadius:10,overflow:'hidden',flex:'0 0 auto',background:'var(--surface-2)',border:'1px solid rgba(255,255,255,0.04)'},children:/*#__PURE__*/_jsx(\"img\",{src:item.image||'/assets/images/placeholder-product.png',alt:item.name||'Товар',style:{width:'100%',height:'100%',objectFit:'cover',display:'block'}})},item.id||idx)),extraCount>0&&/*#__PURE__*/_jsxs(\"div\",{style:{fontSize:12,color:'var(--text-3)',paddingLeft:4,whiteSpace:'nowrap'},children:[\"+\",extraCount,\" \\u0449\\u0435\"]})]}),/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',flexDirection:'column',alignItems:isMobile?'flex-start':'flex-end',gap:2},children:[/*#__PURE__*/_jsx(\"span\",{style:{fontSize:11,color:'var(--text-3)',textTransform:'uppercase',letterSpacing:0.06},children:\"\\u0421\\u0443\\u043C\\u0430\"}),/*#__PURE__*/_jsx(\"span\",{className:\"price\",style:{fontWeight:800,fontSize:isMobile?15:16},children:formatPrice(total||0)})]}),!isMobile&&/*#__PURE__*/_jsx(\"div\",{style:{justifySelf:'end',fontSize:18,color:'var(--turquoise-2)',opacity:0.85},children:\"\\u2192\"})]})},id);})});};/* ====================== Reviews Tab ====================== */const ReviewsTab=_ref4=>{let{token}=_ref4;const[reviews,setReviews]=useState([]);const[state,setState]=useState({loading:true,error:''});useEffect(()=>{if(!token)return;let cancelled=false;const load=async()=>{setState({loading:true,error:''});try{const{data}=await axios.get('/api/users/reviews',{headers:{Authorization:\"Bearer \".concat(token)}});if(!cancelled){setReviews(Array.isArray(data)?data:[]);setState({loading:false,error:''});}}catch(err){console.error('[ReviewsTab] Помилка завантаження відгуків:',err);if(!cancelled){setState({loading:false,error:'Не вдалося завантажити відгуки.'});}}};load();return()=>{cancelled=true;};},[token]);if(state.loading){return/*#__PURE__*/_jsx(\"div\",{className:\"surface\",style:{padding:16},children:/*#__PURE__*/_jsx(\"p\",{style:{margin:0,color:'var(--text-2)'},children:\"\\u0417\\u0430\\u0432\\u0430\\u043D\\u0442\\u0430\\u0436\\u0443\\u0454\\u043C\\u043E \\u0432\\u0430\\u0448\\u0456 \\u0432\\u0456\\u0434\\u0433\\u0443\\u043A\\u0438\\u2026\"})});}if(state.error){return/*#__PURE__*/_jsx(\"div\",{className:\"surface\",style:{padding:16},children:/*#__PURE__*/_jsx(\"p\",{style:{margin:0,color:'var(--error)'},children:state.error})});}if(!reviews.length){return/*#__PURE__*/_jsx(\"div\",{className:\"surface\",style:{padding:16},children:/*#__PURE__*/_jsx(\"p\",{style:{margin:0,color:'var(--text-2)'},children:\"\\u0412\\u0438 \\u0449\\u0435 \\u043D\\u0435 \\u0437\\u0430\\u043B\\u0438\\u0448\\u0430\\u043B\\u0438 \\u0432\\u0456\\u0434\\u0433\\u0443\\u043A\\u0456\\u0432. \\u041F\\u0456\\u0441\\u043B\\u044F \\u043F\\u043E\\u043A\\u0443\\u043F\\u043A\\u0438 \\u0432\\u0438 \\u0437\\u043C\\u043E\\u0436\\u0435\\u0442\\u0435 \\u043E\\u0446\\u0456\\u043D\\u0438\\u0442\\u0438 \\u0442\\u043E\\u0432\\u0430\\u0440\\u0438.\"})});}return/*#__PURE__*/_jsx(\"div\",{style:{display:'flex',flexDirection:'column',gap:10},children:reviews.map((rev,i)=>/*#__PURE__*/_jsxs(motion.div,{className:\"surface\",initial:{opacity:0,y:8},animate:{opacity:1,y:0},transition:{delay:i*0.03},style:{padding:14,display:'grid',gap:8},children:[/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',justifyContent:'space-between',gap:8},children:[/*#__PURE__*/_jsx(\"div\",{style:{fontWeight:600,color:'var(--text-1)'},children:rev.productName||rev.title||'Товар'}),/*#__PURE__*/_jsx(StarRating,{rating:rev.rating||rev.stars||0})]}),/*#__PURE__*/_jsx(\"div\",{style:{fontSize:14,color:'var(--text-2)'},children:rev.comment}),/*#__PURE__*/_jsx(\"div\",{style:{fontSize:12,color:'var(--text-3)'},children:niceDate(rev.createdAt||rev.date)})]},rev.id||i))});};/* ====================== Settings Tab ====================== */const SettingsTab=_ref5=>{let{token}=_ref5;const[formData,setFormData]=useState({firstName:'',lastName:'',birthday:''});const[state,setState]=useState({loading:true,error:'',success:''});useEffect(()=>{if(!token)return;let cancelled=false;const load=async()=>{setState({loading:true,error:'',success:''});try{const{data}=await axios.get('/api/users/me',{headers:{Authorization:\"Bearer \".concat(token)}});if(!cancelled){setFormData({firstName:data.firstName||data.name||'',lastName:data.lastName||'',birthday:data.birthday||''});setState({loading:false,error:'',success:''});}}catch(err){console.error('[SettingsTab] Помилка завантаження профілю:',err);if(!cancelled){setState({loading:false,error:'Не вдалося завантажити профіль.',success:''});}}};load();return()=>{cancelled=true;};},[token]);const onChange=e=>{const{name,value}=e.target;setFormData(f=>_objectSpread(_objectSpread({},f),{},{[name]:value}));};const onSubmit=async e=>{e.preventDefault();setState(s=>_objectSpread(_objectSpread({},s),{},{error:'',success:''}));try{await axios.put('/api/users/me',formData,{headers:{Authorization:\"Bearer \".concat(token)}});setState({loading:false,error:'',success:'Зміни збережено.'});}catch(err){console.error('[SettingsTab] Помилка збереження профілю:',err);setState({loading:false,error:'Не вдалося зберегти зміни.',success:''});}};return/*#__PURE__*/_jsx(\"div\",{className:\"surface\",style:{padding:16},children:/*#__PURE__*/_jsxs(\"form\",{onSubmit:onSubmit,style:{display:'grid',gap:12},children:[/*#__PURE__*/_jsxs(\"div\",{style:{display:'grid',gap:6},children:[/*#__PURE__*/_jsx(\"label\",{style:{fontSize:13,color:'var(--text-3)'},children:\"\\u0406\\u043C\\u02BC\\u044F\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"firstName\",value:formData.firstName,onChange:onChange,className:\"input\",placeholder:\"\\u0412\\u0430\\u0448\\u0435 \\u0456\\u043C\\u02BC\\u044F\"})]}),/*#__PURE__*/_jsxs(\"div\",{style:{display:'grid',gap:6},children:[/*#__PURE__*/_jsx(\"label\",{style:{fontSize:13,color:'var(--text-3)'},children:\"\\u041F\\u0440\\u0456\\u0437\\u0432\\u0438\\u0449\\u0435\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"lastName\",value:formData.lastName,onChange:onChange,className:\"input\",placeholder:\"\\u0412\\u0430\\u0448\\u0435 \\u043F\\u0440\\u0456\\u0437\\u0432\\u0438\\u0449\\u0435\"})]}),/*#__PURE__*/_jsxs(\"div\",{style:{display:'grid',gap:6},children:[/*#__PURE__*/_jsx(\"label\",{style:{fontSize:13,color:'var(--text-3)'},children:\"\\u0414\\u0430\\u0442\\u0430 \\u043D\\u0430\\u0440\\u043E\\u0434\\u0436\\u0435\\u043D\\u043D\\u044F\"}),/*#__PURE__*/_jsx(\"input\",{type:\"date\",name:\"birthday\",value:formData.birthday,onChange:onChange,className:\"input\"})]}),state.error&&/*#__PURE__*/_jsx(\"div\",{style:{fontSize:13,color:'var(--error)'},children:state.error}),state.success&&/*#__PURE__*/_jsx(\"div\",{style:{fontSize:13,color:'var(--green)'},children:state.success}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"btn primary\",disabled:state.loading,children:\"\\u0417\\u0431\\u0435\\u0440\\u0435\\u0433\\u0442\\u0438\"})]})});};/* ====================== MAIN ACCOUNT PAGE ====================== */export default function Account(){var _;const dispatch=useDispatch();const navigate=useNavigate();const{user,token,isAuthenticated}=useSelector(s=>s.auth);const isMobile=useIsMobile(820);const[activeTab,setActiveTab]=useState('orders');useEffect(()=>{if(!isAuthenticated)navigate('/login');},[isAuthenticated,navigate]);const onLogout=()=>{dispatch(logout());navigate('/');};if(!user){return/*#__PURE__*/_jsx(\"p\",{className:\"p center\",style:{color:'var(--text-3)'},children:\"\\u0417\\u0430\\u0432\\u0430\\u043D\\u0442\\u0430\\u0436\\u0435\\u043D\\u043D\\u044F \\u043F\\u0440\\u043E\\u0444\\u0456\\u043B\\u044E\\u2026\"});}const tabs=[{key:'orders',label:'Замовлення'},{key:'reviews',label:'Відгуки'},{key:'settings',label:'Налаштування'}];return/*#__PURE__*/_jsx(motion.div,{className:\"page account-page\",initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{duration:0.25},style:{padding:isMobile?'10px 0 32px':'16px 0 40px'},children:/*#__PURE__*/_jsxs(\"div\",{className:\"container\",style:{display:'flex',flexDirection:'column',gap:16},children:[/*#__PURE__*/_jsxs(\"header\",{className:\"surface\",style:{padding:isMobile?12:16,borderRadius:18,display:'flex',alignItems:isMobile?'flex-start':'center',justifyContent:'space-between',gap:12},children:[/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',gap:12,alignItems:'center'},children:[/*#__PURE__*/_jsx(\"div\",{style:{width:isMobile?42:50,height:isMobile?42:50,borderRadius:'50%',background:'radial-gradient(circle at 0 0, var(--turquoise), transparent 60%), var(--surface-2)',display:'flex',alignItems:'center',justifyContent:'center',fontWeight:800,fontSize:isMobile?18:20},children:(_=(user.firstName||user.name||'B')[0])===null||_===void 0?void 0:_.toUpperCase()}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"div\",{style:{fontSize:12,color:'var(--text-3)'},children:\"\\u041C\\u0456\\u0439 \\u0430\\u043A\\u0430\\u0443\\u043D\\u0442\"}),/*#__PURE__*/_jsx(\"div\",{style:{fontSize:18,fontWeight:700,color:'var(--text-1)'},children:user.firstName||user.name||'Користувач'}),user.phone&&/*#__PURE__*/_jsx(\"div\",{style:{fontSize:13,color:'var(--text-3)',marginTop:2},children:user.phone})]})]}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:onLogout,className:\"btn\",style:{padding:'8px 14px',borderRadius:999,border:'1px solid var(--surface-3)',background:'transparent',color:'var(--text-2)',fontSize:13,cursor:'pointer',whiteSpace:'nowrap'},children:\"\\u0412\\u0438\\u0439\\u0442\\u0438\"})]}),/*#__PURE__*/_jsx(\"nav\",{style:{display:'flex',gap:8,flexWrap:'wrap'},children:tabs.map(t=>/*#__PURE__*/_jsx(TabButton,{active:activeTab===t.key,onClick:()=>setActiveTab(t.key),ariaLabel:t.label,children:t.label},t.key))}),/*#__PURE__*/_jsx(\"main\",{children:/*#__PURE__*/_jsx(AnimatePresence,{mode:\"wait\",children:/*#__PURE__*/_jsxs(motion.div,{initial:{opacity:0,y:8},animate:{opacity:1,y:0},exit:{opacity:0,y:-8},transition:{duration:0.2},children:[activeTab==='orders'&&/*#__PURE__*/_jsx(OrdersTab,{token:token,isMobile:isMobile}),activeTab==='reviews'&&/*#__PURE__*/_jsx(ReviewsTab,{token:token,isMobile:isMobile}),activeTab==='settings'&&/*#__PURE__*/_jsx(SettingsTab,{token:token,isMobile:isMobile})]},activeTab)})})]})});}","map":{"version":3,"names":["React","useState","useEffect","useSelector","useDispatch","useNavigate","Link","logout","axios","motion","AnimatePresence","formatPrice","jsx","_jsx","jsxs","_jsxs","useIsMobile","bp","arguments","length","undefined","isMobile","setIsMobile","mq","window","matchMedia","concat","onChange","e","matches","addEventListener","removeEventListener","mapStatus","statusRaw","s","toString","toLowerCase","test","label","color","niceDate","d","Date","toLocaleDateString","day","month","year","_unused","StarRating","_ref","rating","style","display","gap","children","map","i","fontSize","TabButton","_ref2","active","onClick","ariaLabel","type","className","onKeyDown","key","preventDefault","alignItems","justifyContent","padding","borderRadius","border","cursor","background","boxShadow","transition","OrdersTab","_ref3","token","orders","setOrders","state","setState","loading","error","cancelled","load","data","get","headers","Authorization","baseOrders","Array","isArray","err","console","margin","flexDirection","order","id","_id","statusInfo","status","items","total","thumbs","slice","extraCount","to","textDecoration","div","initial","opacity","y","animate","delay","borderLeft","statusColor","gridTemplateColumns","fontWeight","textTransform","letterSpacing","whiteSpace","createdAt","overflow","item","idx","width","height","flex","src","image","alt","name","objectFit","paddingLeft","justifySelf","ReviewsTab","_ref4","reviews","setReviews","rev","productName","title","stars","comment","date","SettingsTab","_ref5","formData","setFormData","firstName","lastName","birthday","success","value","target","f","_objectSpread","onSubmit","put","placeholder","disabled","Account","_","dispatch","navigate","user","isAuthenticated","auth","activeTab","setActiveTab","onLogout","tabs","duration","toUpperCase","phone","marginTop","flexWrap","t","mode","exit"],"sources":["D:/work/ggg/bitzone-shop-API/frontend/src/pages/Account.jsx"],"sourcesContent":["// src/pages/Account.jsx\r\nimport React, { useState, useEffect } from 'react';\r\nimport { useSelector, useDispatch } from 'react-redux';\r\nimport { useNavigate, Link } from 'react-router-dom';\r\nimport { logout } from '../redux/authSlice';\r\nimport axios from 'axios';\r\nimport { motion, AnimatePresence } from 'framer-motion';\r\nimport formatPrice from '../utils/formatPrice';\r\n\r\n/* ====================== helpers ====================== */\r\n\r\nconst useIsMobile = (bp = 820) => {\r\n  const [isMobile, setIsMobile] = useState(false);\r\n\r\n  useEffect(() => {\r\n    const mq = window.matchMedia(`(max-width: ${bp}px)`);\r\n    const onChange = (e) => setIsMobile(e.matches);\r\n\r\n    setIsMobile(mq.matches);\r\n    mq.addEventListener('change', onChange);\r\n    return () => mq.removeEventListener('change', onChange);\r\n  }, [bp]);\r\n\r\n  return isMobile;\r\n};\r\n\r\nconst mapStatus = (statusRaw) => {\r\n  const s = (statusRaw || '').toString().toLowerCase();\r\n\r\n  if (/delivered|completed|викон|достав/i.test(s)) return { label: 'Доставлено', color: '#1fbf64' };\r\n  if (/paid|оплач/i.test(s))                      return { label: 'Оплачено',   color: '#00CED1' };\r\n  if (/processing|в оброб/i.test(s))             return { label: 'В обробці',  color: '#FFD700' };\r\n  if (/canceled|cancelled|скас/i.test(s))        return { label: 'Скасовано',  color: '#dc3545' };\r\n  if (/pending|очіку/i.test(s))                  return { label: 'Очікує',     color: '#8A2BE2' };\r\n\r\n  return { label: statusRaw || 'Невідомо', color: 'var(--text-3)' };\r\n};\r\n\r\nconst niceDate = (d) => {\r\n  try {\r\n    return new Date(d).toLocaleDateString('uk-UA', {\r\n      day: '2-digit',\r\n      month: '2-digit',\r\n      year: 'numeric',\r\n    });\r\n  } catch {\r\n    return d || '';\r\n  }\r\n};\r\n\r\n/* ====================== Shared UI ====================== */\r\n\r\nconst StarRating = ({ rating = 0 }) => (\r\n  <div style={{ display: 'flex', gap: 2, color: 'var(--yellow)' }}>\r\n    {[1, 2, 3, 4, 5].map((i) => (\r\n      <span key={i} style={{ fontSize: 16 }}>\r\n        {i <= rating ? '★' : '☆'}\r\n      </span>\r\n    ))}\r\n  </div>\r\n);\r\n\r\nconst TabButton = ({ active, onClick, children, ariaLabel }) => (\r\n  <button\r\n    type=\"button\"\r\n    onClick={onClick}\r\n    className=\"btn tab-btn\"\r\n    aria-pressed={active}\r\n    aria-label={ariaLabel}\r\n    onKeyDown={(e) => {\r\n      if (e.key === 'Enter' || e.key === ' ') {\r\n        e.preventDefault();\r\n        onClick?.();\r\n      }\r\n    }}\r\n    style={{\r\n      display: 'inline-flex',\r\n      alignItems: 'center',\r\n      justifyContent: 'center',\r\n      gap: 6,\r\n      padding: '8px 14px',\r\n      borderRadius: 999,\r\n      border: 'none',\r\n      fontSize: 14,\r\n      cursor: 'pointer',\r\n      background: active ? 'var(--turquoise-2)' : 'var(--surface-2)',\r\n      color: active ? 'var(--black)' : 'var(--text-2)',\r\n      boxShadow: active ? '0 0 0 1px rgba(0,0,0,0.14)' : 'none',\r\n      transition: 'background 0.15s ease, transform 0.1s ease, box-shadow 0.15s ease',\r\n    }}\r\n  >\r\n    {children}\r\n  </button>\r\n);\r\n\r\n/* ====================== Orders Tab ====================== */\r\n\r\nconst OrdersTab = ({ token, isMobile }) => {\r\n  const [orders, setOrders] = useState([]);\r\n  const [state, setState] = useState({ loading: true, error: '' });\r\n\r\n  useEffect(() => {\r\n    if (!token) return;\r\n\r\n    let cancelled = false;\r\n\r\n    const load = async () => {\r\n      setState({ loading: true, error: '' });\r\n\r\n      try {\r\n        // тепер беремо ГОТОВИЙ список з бекенда\r\n        const { data } = await axios.get('/api/orders/my', {\r\n          headers: { Authorization: `Bearer ${token}` },\r\n        });\r\n\r\n        const baseOrders = Array.isArray(data) ? data : [];\r\n\r\n        if (!cancelled) {\r\n          setOrders(baseOrders);\r\n          setState({ loading: false, error: '' });\r\n        }\r\n      } catch (err) {\r\n        console.error('[OrdersTab] Помилка завантаження замовлень:', err);\r\n        if (!cancelled) {\r\n          setState({\r\n            loading: false,\r\n            error: 'Не вдалося завантажити замовлення. Спробуйте пізніше.',\r\n          });\r\n        }\r\n      }\r\n    };\r\n\r\n    load();\r\n\r\n    return () => {\r\n      cancelled = true;\r\n    };\r\n  }, [token]);\r\n\r\n  if (state.loading) {\r\n    return (\r\n      <div className=\"surface\" style={{ padding: 16 }}>\r\n        <p style={{ margin: 0, color: 'var(--text-2)' }}>Завантажуємо ваші замовлення…</p>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  if (state.error) {\r\n    return (\r\n      <div className=\"surface\" style={{ padding: 16 }}>\r\n        <p style={{ margin: 0, color: 'var(--error)' }}>{state.error}</p>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  if (!orders.length) {\r\n    return (\r\n      <div className=\"surface\" style={{ padding: 16 }}>\r\n        <p style={{ margin: 0, color: 'var(--text-2)' }}>\r\n          Ви ще не робили замовлень. Оберіть щось у каталозі!\r\n        </p>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div style={{ display: 'flex', flexDirection: 'column', gap: 10 }}>\r\n      {orders.map((order, i) => {\r\n        const id = order.id || order._id || i + 1;\r\n        const statusInfo = mapStatus(order.status);\r\n        const items = order.items || [];\r\n\r\n        const total = order.total || 0;\r\n\r\n        const thumbs = items.slice(0, 4);\r\n        const extraCount = items.length > 4 ? items.length - 4 : 0;\r\n\r\n        return (\r\n          <Link\r\n            key={id}\r\n            to={`/account/orders/${id}`}\r\n            style={{ textDecoration: 'none', color: 'inherit' }}\r\n          >\r\n            <motion.div\r\n              className=\"surface order-card\"\r\n              initial={{ opacity: 0, y: 8 }}\r\n              animate={{ opacity: 1, y: 0 }}\r\n              transition={{ delay: i * 0.03 }}\r\n              style={{\r\n                padding: isMobile ? 12 : 16,\r\n                borderRadius: 18,\r\n                borderLeft: `4px solid ${order.statusColor || statusInfo.color}`,\r\n                display: 'grid',\r\n                gridTemplateColumns: isMobile\r\n                  ? 'minmax(0, 1fr)'\r\n                  : 'minmax(0, 2.1fr) minmax(0, 2.3fr) minmax(0, 1.6fr) auto',\r\n                gap: 10,\r\n                alignItems: 'center',\r\n              }}\r\n            >\r\n              {/* номер + дата + статус */}\r\n              <div\r\n                style={{\r\n                  display: 'flex',\r\n                  flexDirection: 'column',\r\n                  gap: 4,\r\n                }}\r\n              >\r\n                <div\r\n                  style={{\r\n                    display: 'flex',\r\n                    alignItems: 'center',\r\n                    gap: 6,\r\n                    justifyContent: 'space-between',\r\n                  }}\r\n                >\r\n                  <div\r\n                    className=\"mono\"\r\n                    style={{\r\n                      fontWeight: 800,\r\n                      color: 'var(--text-1)',\r\n                      fontSize: 14,\r\n                    }}\r\n                  >\r\n                    #{id}\r\n                  </div>\r\n                  <span\r\n                    style={{\r\n                      display: 'inline-flex',\r\n                      alignItems: 'center',\r\n                      justifyContent: 'center',\r\n                      padding: '4px 10px',\r\n                      borderRadius: 999,\r\n                      fontSize: 11,\r\n                      background: 'rgba(255,255,255,0.03)',\r\n                      border: `1px solid ${order.statusColor || statusInfo.color}`,\r\n                      color: order.statusColor || statusInfo.color,\r\n                      textTransform: 'uppercase',\r\n                      letterSpacing: 0.06,\r\n                      whiteSpace: 'nowrap',\r\n                    }}\r\n                  >\r\n                    {statusInfo.label}\r\n                  </span>\r\n                </div>\r\n                <div\r\n                  style={{\r\n                    fontSize: 12,\r\n                    color: 'var(--text-3)',\r\n                  }}\r\n                >\r\n                  {niceDate(order.createdAt)}\r\n                </div>\r\n              </div>\r\n\r\n              {/* міні-фото товарів */}\r\n              <div\r\n                style={{\r\n                  display: 'flex',\r\n                  alignItems: 'center',\r\n                  gap: 6,\r\n                  overflow: 'hidden',\r\n                }}\r\n              >\r\n                {thumbs.map((item, idx) => (\r\n                  <div\r\n                    key={item.id || idx}\r\n                    style={{\r\n                      width: isMobile ? 40 : 42,\r\n                      height: isMobile ? 40 : 42,\r\n                      borderRadius: 10,\r\n                      overflow: 'hidden',\r\n                      flex: '0 0 auto',\r\n                      background: 'var(--surface-2)',\r\n                      border: '1px solid rgba(255,255,255,0.04)',\r\n                    }}\r\n                  >\r\n                    <img\r\n                      src={item.image || '/assets/images/placeholder-product.png'}\r\n                      alt={item.name || 'Товар'}\r\n                      style={{\r\n                        width: '100%',\r\n                        height: '100%',\r\n                        objectFit: 'cover',\r\n                        display: 'block',\r\n                      }}\r\n                    />\r\n                  </div>\r\n                ))}\r\n                {extraCount > 0 && (\r\n                  <div\r\n                    style={{\r\n                      fontSize: 12,\r\n                      color: 'var(--text-3)',\r\n                      paddingLeft: 4,\r\n                      whiteSpace: 'nowrap',\r\n                    }}\r\n                  >\r\n                    +{extraCount} ще\r\n                  </div>\r\n                )}\r\n              </div>\r\n\r\n              {/* сума */}\r\n              <div\r\n                style={{\r\n                  display: 'flex',\r\n                  flexDirection: 'column',\r\n                  alignItems: isMobile ? 'flex-start' : 'flex-end',\r\n                  gap: 2,\r\n                }}\r\n              >\r\n                <span\r\n                  style={{\r\n                    fontSize: 11,\r\n                    color: 'var(--text-3)',\r\n                    textTransform: 'uppercase',\r\n                    letterSpacing: 0.06,\r\n                  }}\r\n                >\r\n                  Сума\r\n                </span>\r\n                <span\r\n                  className=\"price\"\r\n                  style={{ fontWeight: 800, fontSize: isMobile ? 15 : 16 }}\r\n                >\r\n                  {formatPrice(total || 0)}\r\n                </span>\r\n              </div>\r\n\r\n              {!isMobile && (\r\n                <div\r\n                  style={{\r\n                    justifySelf: 'end',\r\n                    fontSize: 18,\r\n                    color: 'var(--turquoise-2)',\r\n                    opacity: 0.85,\r\n                  }}\r\n                >\r\n                  →\r\n                </div>\r\n              )}\r\n            </motion.div>\r\n          </Link>\r\n        );\r\n      })}\r\n    </div>\r\n  );\r\n};\r\n\r\n\r\n/* ====================== Reviews Tab ====================== */\r\n\r\nconst ReviewsTab = ({ token }) => {\r\n  const [reviews, setReviews] = useState([]);\r\n  const [state, setState] = useState({ loading: true, error: '' });\r\n\r\n  useEffect(() => {\r\n    if (!token) return;\r\n\r\n    let cancelled = false;\r\n\r\n    const load = async () => {\r\n      setState({ loading: true, error: '' });\r\n      try {\r\n        const { data } = await axios.get('/api/users/reviews', {\r\n          headers: { Authorization: `Bearer ${token}` },\r\n        });\r\n        if (!cancelled) {\r\n          setReviews(Array.isArray(data) ? data : []);\r\n          setState({ loading: false, error: '' });\r\n        }\r\n      } catch (err) {\r\n        console.error('[ReviewsTab] Помилка завантаження відгуків:', err);\r\n        if (!cancelled) {\r\n          setState({\r\n            loading: false,\r\n            error: 'Не вдалося завантажити відгуки.',\r\n          });\r\n        }\r\n      }\r\n    };\r\n\r\n    load();\r\n    return () => {\r\n      cancelled = true;\r\n    };\r\n  }, [token]);\r\n\r\n  if (state.loading) {\r\n    return (\r\n      <div className=\"surface\" style={{ padding: 16 }}>\r\n        <p style={{ margin: 0, color: 'var(--text-2)' }}>Завантажуємо ваші відгуки…</p>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  if (state.error) {\r\n    return (\r\n      <div className=\"surface\" style={{ padding: 16 }}>\r\n        <p style={{ margin: 0, color: 'var(--error)' }}>{state.error}</p>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  if (!reviews.length) {\r\n    return (\r\n      <div className=\"surface\" style={{ padding: 16 }}>\r\n        <p style={{ margin: 0, color: 'var(--text-2)' }}>\r\n          Ви ще не залишали відгуків. Після покупки ви зможете оцінити товари.\r\n        </p>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div style={{ display: 'flex', flexDirection: 'column', gap: 10 }}>\r\n      {reviews.map((rev, i) => (\r\n        <motion.div\r\n          key={rev.id || i}\r\n          className=\"surface\"\r\n          initial={{ opacity: 0, y: 8 }}\r\n          animate={{ opacity: 1, y: 0 }}\r\n          transition={{ delay: i * 0.03 }}\r\n          style={{ padding: 14, display: 'grid', gap: 8 }}\r\n        >\r\n          <div style={{ display: 'flex', justifyContent: 'space-between', gap: 8 }}>\r\n            <div style={{ fontWeight: 600, color: 'var(--text-1)' }}>\r\n              {rev.productName || rev.title || 'Товар'}\r\n            </div>\r\n            <StarRating rating={rev.rating || rev.stars || 0} />\r\n          </div>\r\n          <div style={{ fontSize: 14, color: 'var(--text-2)' }}>{rev.comment}</div>\r\n          <div style={{ fontSize: 12, color: 'var(--text-3)' }}>\r\n            {niceDate(rev.createdAt || rev.date)}\r\n          </div>\r\n        </motion.div>\r\n      ))}\r\n    </div>\r\n  );\r\n};\r\n\r\n/* ====================== Settings Tab ====================== */\r\n\r\nconst SettingsTab = ({ token }) => {\r\n  const [formData, setFormData] = useState({\r\n    firstName: '',\r\n    lastName: '',\r\n    birthday: '',\r\n  });\r\n  const [state, setState] = useState({ loading: true, error: '', success: '' });\r\n\r\n  useEffect(() => {\r\n    if (!token) return;\r\n    let cancelled = false;\r\n\r\n    const load = async () => {\r\n      setState({ loading: true, error: '', success: '' });\r\n      try {\r\n        const { data } = await axios.get('/api/users/me', {\r\n          headers: { Authorization: `Bearer ${token}` },\r\n        });\r\n\r\n        if (!cancelled) {\r\n          setFormData({\r\n            firstName: data.firstName || data.name || '',\r\n            lastName: data.lastName || '',\r\n            birthday: data.birthday || '',\r\n          });\r\n          setState({ loading: false, error: '', success: '' });\r\n        }\r\n      } catch (err) {\r\n        console.error('[SettingsTab] Помилка завантаження профілю:', err);\r\n        if (!cancelled) {\r\n          setState({\r\n            loading: false,\r\n            error: 'Не вдалося завантажити профіль.',\r\n            success: '',\r\n          });\r\n        }\r\n      }\r\n    };\r\n\r\n    load();\r\n    return () => {\r\n      cancelled = true;\r\n    };\r\n  }, [token]);\r\n\r\n  const onChange = (e) => {\r\n    const { name, value } = e.target;\r\n    setFormData((f) => ({ ...f, [name]: value }));\r\n  };\r\n\r\n  const onSubmit = async (e) => {\r\n    e.preventDefault();\r\n    setState((s) => ({ ...s, error: '', success: '' }));\r\n\r\n    try {\r\n      await axios.put('/api/users/me', formData, {\r\n        headers: { Authorization: `Bearer ${token}` },\r\n      });\r\n      setState({ loading: false, error: '', success: 'Зміни збережено.' });\r\n    } catch (err) {\r\n      console.error('[SettingsTab] Помилка збереження профілю:', err);\r\n      setState({\r\n        loading: false,\r\n        error: 'Не вдалося зберегти зміни.',\r\n        success: '',\r\n      });\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"surface\" style={{ padding: 16 }}>\r\n      <form onSubmit={onSubmit} style={{ display: 'grid', gap: 12 }}>\r\n        <div style={{ display: 'grid', gap: 6 }}>\r\n          <label style={{ fontSize: 13, color: 'var(--text-3)' }}>Імʼя</label>\r\n          <input\r\n            type=\"text\"\r\n            name=\"firstName\"\r\n            value={formData.firstName}\r\n            onChange={onChange}\r\n            className=\"input\"\r\n            placeholder=\"Ваше імʼя\"\r\n          />\r\n        </div>\r\n        <div style={{ display: 'grid', gap: 6 }}>\r\n          <label style={{ fontSize: 13, color: 'var(--text-3)' }}>Прізвище</label>\r\n          <input\r\n            type=\"text\"\r\n            name=\"lastName\"\r\n            value={formData.lastName}\r\n            onChange={onChange}\r\n            className=\"input\"\r\n            placeholder=\"Ваше прізвище\"\r\n          />\r\n        </div>\r\n        <div style={{ display: 'grid', gap: 6 }}>\r\n          <label style={{ fontSize: 13, color: 'var(--text-3)' }}>Дата народження</label>\r\n          <input\r\n            type=\"date\"\r\n            name=\"birthday\"\r\n            value={formData.birthday}\r\n            onChange={onChange}\r\n            className=\"input\"\r\n          />\r\n        </div>\r\n\r\n        {state.error && (\r\n          <div style={{ fontSize: 13, color: 'var(--error)' }}>{state.error}</div>\r\n        )}\r\n        {state.success && (\r\n          <div style={{ fontSize: 13, color: 'var(--green)' }}>{state.success}</div>\r\n        )}\r\n\r\n        <button type=\"submit\" className=\"btn primary\" disabled={state.loading}>\r\n          Зберегти\r\n        </button>\r\n      </form>\r\n    </div>\r\n  );\r\n};\r\n\r\n/* ====================== MAIN ACCOUNT PAGE ====================== */\r\n\r\nexport default function Account() {\r\n  const dispatch = useDispatch();\r\n  const navigate = useNavigate();\r\n  const { user, token, isAuthenticated } = useSelector((s) => s.auth);\r\n  const isMobile = useIsMobile(820);\r\n\r\n  const [activeTab, setActiveTab] = useState('orders');\r\n\r\n  useEffect(() => {\r\n    if (!isAuthenticated) navigate('/login');\r\n  }, [isAuthenticated, navigate]);\r\n\r\n  const onLogout = () => {\r\n    dispatch(logout());\r\n    navigate('/');\r\n  };\r\n\r\n  if (!user) {\r\n    return (\r\n      <p className=\"p center\" style={{ color: 'var(--text-3)' }}>\r\n        Завантаження профілю…\r\n      </p>\r\n    );\r\n  }\r\n\r\n  const tabs = [\r\n    { key: 'orders', label: 'Замовлення' },\r\n    { key: 'reviews', label: 'Відгуки' },\r\n    { key: 'settings', label: 'Налаштування' },\r\n  ];\r\n\r\n  return (\r\n    <motion.div\r\n      className=\"page account-page\"\r\n      initial={{ opacity: 0, y: 10 }}\r\n      animate={{ opacity: 1, y: 0 }}\r\n      transition={{ duration: 0.25 }}\r\n      style={{ padding: isMobile ? '10px 0 32px' : '16px 0 40px' }}\r\n    >\r\n      <div\r\n        className=\"container\"\r\n        style={{\r\n          display: 'flex',\r\n          flexDirection: 'column',\r\n          gap: 16,\r\n        }}\r\n      >\r\n        {/* HEADER */}\r\n        <header\r\n          className=\"surface\"\r\n          style={{\r\n            padding: isMobile ? 12 : 16,\r\n            borderRadius: 18,\r\n            display: 'flex',\r\n            alignItems: isMobile ? 'flex-start' : 'center',\r\n            justifyContent: 'space-between',\r\n            gap: 12,\r\n          }}\r\n        >\r\n          <div style={{ display: 'flex', gap: 12, alignItems: 'center' }}>\r\n            <div\r\n              style={{\r\n                width: isMobile ? 42 : 50,\r\n                height: isMobile ? 42 : 50,\r\n                borderRadius: '50%',\r\n                background:\r\n                  'radial-gradient(circle at 0 0, var(--turquoise), transparent 60%), var(--surface-2)',\r\n                display: 'flex',\r\n                alignItems: 'center',\r\n                justifyContent: 'center',\r\n                fontWeight: 800,\r\n                fontSize: isMobile ? 18 : 20,\r\n              }}\r\n            >\r\n              {(user.firstName || user.name || 'B')[0]?.toUpperCase()}\r\n            </div>\r\n            <div>\r\n              <div style={{ fontSize: 12, color: 'var(--text-3)' }}>Мій акаунт</div>\r\n              <div style={{ fontSize: 18, fontWeight: 700, color: 'var(--text-1)' }}>\r\n                {user.firstName || user.name || 'Користувач'}\r\n              </div>\r\n              {user.phone && (\r\n                <div style={{ fontSize: 13, color: 'var(--text-3)', marginTop: 2 }}>\r\n                  {user.phone}\r\n                </div>\r\n              )}\r\n            </div>\r\n          </div>\r\n\r\n          <button\r\n            type=\"button\"\r\n            onClick={onLogout}\r\n            className=\"btn\"\r\n            style={{\r\n              padding: '8px 14px',\r\n              borderRadius: 999,\r\n              border: '1px solid var(--surface-3)',\r\n              background: 'transparent',\r\n              color: 'var(--text-2)',\r\n              fontSize: 13,\r\n              cursor: 'pointer',\r\n              whiteSpace: 'nowrap',\r\n            }}\r\n          >\r\n            Вийти\r\n          </button>\r\n        </header>\r\n\r\n        {/* TABS */}\r\n        <nav\r\n          style={{\r\n            display: 'flex',\r\n            gap: 8,\r\n            flexWrap: 'wrap',\r\n          }}\r\n        >\r\n          {tabs.map((t) => (\r\n            <TabButton\r\n              key={t.key}\r\n              active={activeTab === t.key}\r\n              onClick={() => setActiveTab(t.key)}\r\n              ariaLabel={t.label}\r\n            >\r\n              {t.label}\r\n            </TabButton>\r\n          ))}\r\n        </nav>\r\n\r\n        {/* CONTENT */}\r\n        <main>\r\n          <AnimatePresence mode=\"wait\">\r\n            <motion.div\r\n              key={activeTab}\r\n              initial={{ opacity: 0, y: 8 }}\r\n              animate={{ opacity: 1, y: 0 }}\r\n              exit={{ opacity: 0, y: -8 }}\r\n              transition={{ duration: 0.2 }}\r\n            >\r\n              {activeTab === 'orders' && <OrdersTab token={token} isMobile={isMobile} />}\r\n              {activeTab === 'reviews' && <ReviewsTab token={token} isMobile={isMobile} />}\r\n              {activeTab === 'settings' && <SettingsTab token={token} isMobile={isMobile} />}\r\n            </motion.div>\r\n          </AnimatePresence>\r\n        </main>\r\n      </div>\r\n    </motion.div>\r\n  );\r\n}\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}